<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš X500 V2 æ‰‹å‹¢æ§åˆ¶ç³»çµ± - ç ”ç™¼æŠ€è¡“æ‰‹å†Š</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <style>
        :root {
            --bg: #0d0d0d;
            --bg2: #161b22;
            --bg3: #1e2430;
            --border: #30363d;
            --accent: #00d4ff;
            --accent2: #7c3aed;
            --green: #3fb950;
            --orange: #f78166;
            --text: #c9d1d9;
            --text2: #8b949e;
            --card-shadow: 0 4px 24px rgba(0,212,255,0.08);
        }
        [data-theme="light"] {
            --bg: #f0f4f8;
            --bg2: #ffffff;
            --bg3: #e8edf3;
            --border: #d0d7de;
            --accent: #0969da;
            --accent2: #7c3aed;
            --green: #1a7f37;
            --orange: #cf222e;
            --text: #1f2328;
            --text2: #656d76;
            --card-shadow: 0 4px 24px rgba(0,0,0,0.08);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: background 0.3s, color 0.3s;
        }

        /* ===== TOP NAV ===== */
        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: rgba(13,13,13,0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center;
            padding: 0 2rem; height: 56px; gap: 1.5rem;
            transition: background 0.3s;
        }
        [data-theme="light"] nav { background: rgba(240,244,248,0.85); }
        .nav-logo { color: var(--accent); font-weight: 700; font-size: 1.1rem; text-decoration: none; }
        .nav-links { display: flex; gap: 1rem; margin-left: auto; }
        .nav-links a {
            color: var(--text2); text-decoration: none; font-size: 0.9rem;
            padding: 0.3rem 0.7rem; border-radius: 6px; transition: all 0.2s;
        }
        .nav-links a:hover { color: var(--accent); background: rgba(0,212,255,0.08); }
        .theme-btn {
            background: var(--bg3); border: 1px solid var(--border);
            color: var(--text); padding: 0.3rem 0.8rem; border-radius: 20px;
            cursor: pointer; font-size: 0.85rem; transition: all 0.2s;
        }
        .theme-btn:hover { border-color: var(--accent); color: var(--accent); }

        /* ===== HERO ===== */
        .hero {
            margin-top: 56px;
            background: linear-gradient(135deg, #0d0d0d 0%, #0a1628 50%, #0d0d0d 100%);
            padding: 4rem 2rem 3rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
            position: relative; overflow: hidden;
        }
        [data-theme="light"] .hero { background: linear-gradient(135deg, #f0f4f8 0%, #dbeafe 50%, #f0f4f8 100%); }
        .hero::before {
            content: "";
            position: absolute; inset: 0;
            background: radial-gradient(ellipse at 50% 0%, rgba(0,212,255,0.12) 0%, transparent 70%);
            pointer-events: none;
        }
        .hero h1 { font-size: 2.8rem; color: var(--accent); margin-bottom: 0.5rem; position: relative; }
        .hero p { color: var(--text2); font-size: 1.05rem; margin-bottom: 1.5rem; }
        .badges { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; }
        .badge {
            display: inline-flex; align-items: center; gap: 0.4rem;
            padding: 0.35rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600;
        }
        .badge-green { background: rgba(63,185,80,0.15); color: var(--green); border: 1px solid rgba(63,185,80,0.3); }
        .badge-blue  { background: rgba(0,212,255,0.12); color: var(--accent); border: 1px solid rgba(0,212,255,0.3); }
        .badge-purple{ background: rgba(124,58,237,0.15); color: #a78bfa; border: 1px solid rgba(124,58,237,0.3); }

        /* ===== MAIN LAYOUT ===== */
        .layout { display: flex; max-width: 1300px; margin: 2rem auto; padding: 0 2rem; gap: 2rem; }
        .sidebar {
            width: 220px; flex-shrink: 0;
            position: sticky; top: 72px; align-self: flex-start;
            background: var(--bg2); border: 1px solid var(--border);
            border-radius: 12px; padding: 1.2rem; height: fit-content;
        }
        .sidebar h4 { color: var(--text2); font-size: 0.75rem; text-transform: uppercase;
            letter-spacing: 0.08em; margin-bottom: 0.75rem; }
        .sidebar a {
            display: block; color: var(--text2); text-decoration: none;
            font-size: 0.88rem; padding: 0.35rem 0.6rem; border-radius: 6px;
            transition: all 0.2s; margin-bottom: 2px;
        }
        .sidebar a:hover { color: var(--accent); background: rgba(0,212,255,0.08); }
        .sidebar a.active { color: var(--accent); background: rgba(0,212,255,0.12); }
        .content { flex: 1; min-width: 0; }

        /* ===== SECTION ===== */
        .section {
            background: var(--bg2); border: 1px solid var(--border);
            border-radius: 12px; padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--card-shadow);
        }
        .section-header {
            display: flex; align-items: center; gap: 0.75rem;
            margin-bottom: 1.5rem; padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }
        .section-icon {
            width: 36px; height: 36px; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; flex-shrink: 0;
        }
        .icon-blue   { background: rgba(0,212,255,0.12); }
        .icon-green  { background: rgba(63,185,80,0.12); }
        .icon-purple { background: rgba(124,58,237,0.12); }
        .icon-orange { background: rgba(247,129,102,0.12); }
        .section h2 { font-size: 1.3rem; color: var(--text); }
        .section h3 { font-size: 1.05rem; color: var(--accent); margin: 1.5rem 0 0.75rem; }

        /* ===== INFO CARDS ===== */
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
        .info-card {
            background: var(--bg3); border: 1px solid var(--border);
            border-radius: 8px; padding: 1rem 1.2rem;
        }
        .info-label { font-size: 0.75rem; color: var(--text2); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 0.3rem; }
        .info-value { font-size: 1rem; color: var(--text); font-weight: 600; }

        /* ===== MERMAID ===== */
        .mermaid-wrap {
            background: var(--bg3); border: 1px solid var(--border);
            border-radius: 10px; padding: 1.5rem; margin: 1rem 0;
            overflow-x: auto; text-align: center;
        }
        .pre.mermaid { background: transparent !important; }

        /* ===== FLOW STEPS ===== */
        .flow-steps { display: flex; flex-direction: column; gap: 0; margin: 1rem 0; }
        .flow-step {
            display: flex; align-items: flex-start; gap: 1rem;
            padding: 0.9rem 1rem;
            background: var(--bg3); border: 1px solid var(--border);
            border-radius: 0; border-bottom: none;
            transition: background 0.2s;
        }
        .flow-step:first-child { border-radius: 8px 8px 0 0; }
        .flow-step:last-child  { border-radius: 0 0 8px 8px; border-bottom: 1px solid var(--border); }
        .flow-step:hover { background: rgba(0,212,255,0.05); }
        .step-num {
            width: 28px; height: 28px; border-radius: 50%;
            background: var(--accent); color: #000;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.8rem; font-weight: 700; flex-shrink: 0; margin-top: 1px;
        }
        .step-label { font-size: 0.85rem; color: var(--accent); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .step-desc   { color: var(--text); font-size: 0.95rem; margin-top: 0.2rem; }

        /* ===== ENV TABS ===== */
        .tab-bar { display: flex; gap: 0; margin-bottom: 0; }
        .tab-btn {
            padding: 0.6rem 1.3rem; border: 1px solid var(--border); background: var(--bg3);
            color: var(--text2); cursor: pointer; font-size: 0.9rem; font-family: inherit;
            transition: all 0.2s; border-bottom: none;
        }
        .tab-btn:first-child { border-radius: 8px 0 0 0; }
        .tab-btn:last-child  { border-radius: 0 8px 0 0; }
        .tab-btn.active { background: var(--bg2); color: var(--accent); border-color: var(--accent); border-bottom: 1px solid var(--bg2); z-index: 1; }
        .tab-panel {
            display: none; background: var(--bg2);
            border: 1px solid var(--border); border-radius: 0 8px 8px 8px;
            padding: 1.5rem;
        }
        .tab-panel.active { display: block; }
        .env-list { list-style: none; padding: 0; }
        .env-list li {
            padding: 0.5rem 0; border-bottom: 1px solid var(--border);
            display: flex; align-items: baseline; gap: 0.75rem; font-size: 0.95rem;
        }
        .env-list li:last-child { border-bottom: none; }
        .env-key { color: var(--text2); min-width: 110px; font-size: 0.85rem; }
        .env-val { color: var(--text); }

        /* ===== CODE BLOCKS ===== */
        .code-wrap {
            background: var(--bg3) !important; border: 1px solid var(--border);
            border-radius: 10px; overflow: hidden; margin: 1rem 0; width: 100%;
        }
        .code-header {
            display: flex; align-items: center; justify-content: space-between;
            padding: 0.6rem 1rem; border-bottom: 1px solid var(--border);
            background: rgba(0,0,0,0.2);
        }
        .code-lang { font-size: 0.8rem; color: var(--text2); font-family: monospace; }
        .copy-btn {
            background: transparent; border: 1px solid var(--border);
            color: var(--text2); padding: 0.2rem 0.7rem; border-radius: 5px;
            cursor: pointer; font-size: 0.78rem; transition: all 0.2s; font-family: inherit;
        }
        .copy-btn:hover { border-color: var(--accent); color: var(--accent); }
        .code-wrap pre[class*="language-"] {
            margin: 0 !important; border-radius: 0 !important;
            background: transparent !important; padding: 1.2rem 1.4rem !important;
        }
        .fix-note {
            background: rgba(63,185,80,0.08); border: 1px solid rgba(63,185,80,0.25);
            border-radius: 8px; padding: 0.7rem 1rem; margin-bottom: 1rem;
            font-size: 0.88rem; color: var(--green);
            display: flex; align-items: center; gap: 0.5rem;
        }

        /* ===== GESTURE TABLE ===== */
        .gesture-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .gesture-card {
            background: var(--bg3); border: 1px solid var(--border);
            border-radius: 10px; padding: 1.2rem; text-align: center;
            transition: all 0.25s; cursor: default;
        }
        .gesture-card:hover { border-color: var(--accent); transform: translateY(-3px); box-shadow: 0 8px 24px rgba(0,212,255,0.12); }
        .gesture-emoji { font-size: 2.8rem; display: block; margin-bottom: 0.5rem; }
        .gesture-name  { font-weight: 700; color: var(--text); margin-bottom: 0.25rem; }
        .gesture-cmd   { font-size: 0.82rem; color: var(--accent); font-family: monospace; }
        .gesture-state { font-size: 0.78rem; color: var(--text2); margin-top: 0.25rem; }

        /* ===== NEXT STEPS ===== */
        .next-steps { display: flex; flex-direction: column; gap: 0.75rem; margin-top: 1rem; }
        .next-step {
            display: flex; gap: 1rem; align-items: flex-start;
            background: var(--bg3); border: 1px solid var(--border);
            border-radius: 8px; padding: 1rem 1.2rem; transition: background 0.2s;
        }
        .next-step:hover { background: rgba(124,58,237,0.06); border-color: rgba(124,58,237,0.3); }
        .next-num {
            width: 28px; height: 28px; border-radius: 6px;
            background: var(--accent2); color: white;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.8rem; font-weight: 700; flex-shrink: 0;
        }
        .next-title { font-weight: 600; color: var(--text); }
        .next-desc  { font-size: 0.88rem; color: var(--text2); margin-top: 0.2rem; }
        code.inline {
            background: var(--bg3); border: 1px solid var(--border);
            padding: 0.15rem 0.45rem; border-radius: 4px;
            font-family: 'Consolas', monospace; font-size: 0.88em; color: var(--accent);
        }
        .warn { color: var(--orange); font-weight: 700; }

        /* ===== FOOTER ===== */
        footer {
            text-align: center; padding: 2rem; margin-top: 1rem;
            border-top: 1px solid var(--border); color: var(--text2); font-size: 0.85rem;
        }

        /* ===== SCROLL TOP ===== */
        #scrolltop {
            position: fixed; bottom: 2rem; right: 2rem;
            width: 40px; height: 40px; border-radius: 50%;
            background: var(--accent); color: #000; border: none;
            cursor: pointer; font-size: 1.2rem;
            display: none; align-items: center; justify-content: center;
            box-shadow: 0 4px 16px rgba(0,212,255,0.3);
            transition: all 0.2s; z-index: 99;
        }
        #scrolltop:hover { transform: scale(1.1); }
        #scrolltop.show { display: flex; }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .layout { padding: 0 1rem; }
        }
        @media (max-width: 600px) {
            .hero h1 { font-size: 1.8rem; }
            .gesture-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<nav>
    <a class="nav-logo" href="#">ğŸš X500 V2</a>
    <div class="nav-links">
        <a href="#arch">æ¶æ§‹</a>
        <a href="#env">ç’°å¢ƒ</a>
        <a href="#reinstall">WSLé‡è£</a>
        <a href="#code">ç¨‹å¼ç¢¼</a>
        <a href="#gesture">æ‰‹å‹¢</a>
        <a href="#next">ä¸‹ä¸€æ­¥</a>
    </div>
    <button class="theme-btn" onclick="toggleTheme()" id="themeBtn">â˜€ï¸ æ·ºè‰²</button>
</nav>

<div class="hero">
    <h1>ğŸš X500 V2 æ‰‹å‹¢æ§åˆ¶ç³»çµ±</h1>
    <p>ç ”ç™¼æŠ€è¡“æ‰‹å†Š &mdash; SITL Loop &mdash; æœ€æ–°ç‰ˆæœ¬</p>
    <div class="badges">
        <span class="badge badge-green">âœ… SITL æ¨¡æ“¬é©—è­‰æˆåŠŸ</span>
        <span class="badge badge-blue">v1.1 UDP Bridge & Vision</span>
        <span class="badge badge-purple">ğŸ‘¤ Marlon</span>
    </div>
</div>

<div class="layout">
    <aside class="sidebar">
        <h4>ç›®éŒ„</h4>
        <a href="#info">å°ˆæ¡ˆè³‡è¨Š</a>
        <a href="#arch">ç³»çµ±æ¶æ§‹</a>
        <a href="#flow">æ•¸æ“šæµ</a>
        <a href="#env">ç’°å¢ƒé…ç½®</a>
        <a href="#reinstall">WSL é‡è£æŒ‡å—</a>
        <a href="#code">æ ¸å¿ƒç¨‹å¼ç¢¼</a>
        <a href="#gesture">æ‰‹å‹¢å°ç…§</a>
        <a href="#next">ä¸‹ä¸€æ­¥è¨ˆç•«</a>
    </aside>

    <main class="content">

        <section class="section" id="info">
            <div class="section-header">
                <div class="section-icon icon-blue">ğŸ“‹</div>
                <h2>å°ˆæ¡ˆè³‡è¨Š</h2>
            </div>
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-label">å°ˆæ¡ˆåç¨±</div>
                    <div class="info-value">AIoT Gesture Drone Control</div>
                </div>
                <div class="info-card">
                    <div class="info-label">é–‹ç™¼è€…</div>
                    <div class="info-value">ğŸ‘¤ Marlon</div>
                </div>
                <div class="info-card">
                    <div class="info-label">æ›´æ–°æ—¥æœŸ</div>
                    <div class="info-value">2026-02-19</div>
                </div>
                <div class="info-card">
                    <div class="info-label">ç‹€æ…‹</div>
                    <div class="info-value" style="color:var(--green)">âœ… å…¨ç³»çµ±é™¤éŒ¯æ•´åˆå®Œæˆ</div>
                </div>
                <div class="info-card">
                    <div class="info-label">ç‰ˆæœ¬</div>
                    <div class="info-value">v1.1 (UDP Bridge + æ™ºæ…§è§£ç¢¼)</div>
                </div>
                <div class="info-card">
                    <div class="info-label">ç›®æ¨™æ©Ÿé«”</div>
                    <div class="info-value">X500 V2 + Pixhawk 6C</div>
                </div>
            </div>
        </section>

        <section class="section" id="arch">
            <div class="section-header">
                <div class="section-icon icon-blue">ğŸ—ï¸</div>
                <h2>ç³»çµ±æ¶æ§‹ (System Architecture)</h2>
            </div>
            <p style="color:var(--text2); margin-bottom:1rem;">
                æœ¬éšæ®µæ¡ç”¨ <strong style="color:var(--accent)">UDP æ©‹æ¥ (UDP Bridge)</strong> æŠ€è¡“ï¼Œ
                çªç ´ WSL2 ç¶²è·¯éš”é›¢é™åˆ¶ï¼Œå¯¦ç¾ RPI5 é‚Šç·£é‹ç®—è£ç½®å° PC æ¨¡æ“¬å™¨çš„é ç«¯æ§åˆ¶ã€‚
            </p>
            <div class="mermaid-wrap">
                <div class="mermaid" id="mermaid-arch">
graph LR
    User["ğŸ‘¤ ä½¿ç”¨è€…æ‰‹å‹¢"] -->|Camera 30fps| RPI5["ğŸ“ Raspberry Pi 5"]
    RPI5 -->|AI Inference| MP["ğŸ¤– MediaPipe Hands"]
    MP -->|Logic| PyMav["ğŸ“¡ PyMavlink"]

    subgraph Edge["Edge Device Â· RPI5"]
        RPI5
        MP
        PyMav
    end

    PyMav -->|"UDP:14540"| WinIP["ğŸ–¥ï¸ Windows IP
192.168.x.x"]

    subgraph PC["PC Host Â· Windows 11"]
        WinIP
        Bridge["ğŸŒ‰ UDP Bridge
windows_udp_bridge.py"]
    end

    Bridge -->|"Forward UDP"| WSLIP["WSL2 IP
172.x.x.x"]

    subgraph Sim["Simulation Â· WSL2"]
        WSLIP
        PX4["âš™ï¸ PX4 Autopilot
SITL"]
        Gazebo["ğŸŒ Gazebo Classic"]
    end

    Bridge --> PX4
    PX4 -->|Physics| Gazebo
                </div>
            </div>
        </section>

        <section class="section" id="flow">
            <div class="section-header">
                <div class="section-icon icon-green">ğŸ”„</div>
                <h2>é—œéµæ•¸æ“šæµ</h2>
            </div>
            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-num">1</div>
                    <div>
                        <div class="step-label">è¼¸å…¥</div>
                        <div class="step-desc">RPI5 é€é USB Webcam æ“·å–å½±åƒ <strong>(30fps)</strong></div>
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-num">2</div>
                    <div>
                        <div class="step-label">è™•ç†</div>
                        <div class="step-desc">RPI5 åŸ·è¡Œ <code class="inline">ai_vision_rpi5_fixed.py</code>ï¼Œåµæ¸¬æ‰‹å‹¢ä¸¦è½‰æ›ç‚º <strong>MAVLink v1 å°åŒ…</strong></div>
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-num">3</div>
                    <div>
                        <div class="step-label">å‚³è¼¸</div>
                        <div class="step-desc">å°åŒ…ç™¼é€è‡³ Windows å¯¦é«” IP <code class="inline">192.168.x.x:14540</code></div>
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-num">4</div>
                    <div>
                        <div class="step-label">æ©‹æ¥èˆ‡è§£ç¢¼</div>
                        <div class="step-desc">Windows åŸ·è¡Œ <code class="inline">windows_udp_bridge.py</code>ï¼Œè‡ªå‹•åµæ¸¬ WSL IPï¼Œé€²è¡Œè½‰ç™¼ä¸¦å³æ™‚æ–¼æ§åˆ¶å°è§£ç¢¼æŒ‡ä»¤</div>
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-num">5</div>
                    <div>
                        <div class="step-label">åŸ·è¡Œ</div>
                        <div class="step-desc">WSL å…§çš„ <strong>PX4 SITL</strong> æ¥æ”¶æŒ‡ä»¤ä¸¦é©…å‹• <strong>Gazebo</strong> æ¨¡å‹</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="env">
            <div class="section-header">
                <div class="section-icon icon-green">âš™ï¸</div>
                <h2>é–‹ç™¼ç’°å¢ƒé…ç½® (Environment Setup)</h2>
            </div>
            <div class="tab-bar">
                <button class="tab-btn active" onclick="showTab('rpi5',this)">ğŸ“ RPI5</button>
                <button class="tab-btn" onclick="showTab('win',this)">ğŸ–¥ï¸ Windows</button>
                <button class="tab-btn" onclick="showTab('wsl',this)">ğŸ§ WSL2</button>
            </div>
            <div class="tab-panel active" id="tab-rpi5">
                <ul class="env-list">
                    <li><span class="env-key">OS</span><span class="env-val">Raspberry Pi OS (Bookworm) 64-bit</span></li>
                    <li><span class="env-key">Python</span><span class="env-val">3.11+</span></li>
                    <li><span class="env-key">Dependencies</span>
                        <span class="env-val"><code class="inline">opencv-python</code> &nbsp;<code class="inline">mediapipe</code> &nbsp;<code class="inline">pymavlink</code></span>
                    </li>
                    <li><span class="env-key">é‡è¦è¨­å®š</span><span class="env-val">ç¢ºèª Windows Host çš„å€åŸŸç¶²è·¯ IP (192.168.x.x)</span></li>
                </ul>
                <div class="code-wrap">
                    <div class="code-header">
                        <span class="code-lang">bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button>
                    </div>
                    <pre><code class="language-bash">pip install opencv-python mediapipe pymavlink</code></pre>
                </div>
            </div>
            <div class="tab-panel" id="tab-win">
                <ul class="env-list">
                    <li><span class="env-key">OS</span><span class="env-val">Windows 11</span></li>
                    <li><span class="env-key">Python</span><span class="env-val">3.x (æ¨™æº–åº«å³å¯)</span></li>
                    <li><span class="env-key">Dependencies</span><span class="env-val"><code class="inline">socket</code> &nbsp;<code class="inline">threading</code> &nbsp;<code class="inline">subprocess</code> &nbsp;<code class="inline">re</code> &nbsp;<code class="inline">struct</code></span></li>
                    <li><span class="env-key">é˜²ç«ç‰†</span><span class="env-val">âš ï¸ å…è¨± <code class="inline">python.exe</code> é€šé UDP Port <strong>14540</strong> (ç§äºº / å…¬ç”¨ç¶²è·¯)</span></li>
                </ul>
            </div>
            <div class="tab-panel" id="tab-wsl">
                <ul class="env-list">
                    <li><span class="env-key">OS</span><span class="env-val">WSL2 Ubuntu 22.04 LTS (Jammy)</span></li>
                    <li><span class="env-key">Software</span><span class="env-val">PX4-Autopilot (v1.14.3 branch), Gazebo Classic</span></li>
                    <li><span class="env-key">å•Ÿå‹•æŒ‡ä»¤</span><span class="env-val"><code class="inline">make px4_sitl gazebo-classic</code></span></li>
                </ul>
                <div class="code-wrap">
                    <div class="code-header">
                        <span class="code-lang">bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button>
                    </div>
                    <pre><code class="language-bash">cd ~/PX4-Autopilot
make px4_sitl gazebo-classic</code></pre>
                </div>
            </div>
        </section>

        <section class="section" id="reinstall">
            <div class="section-header">
                <div class="section-icon icon-orange">ğŸ› ï¸</div>
                <h2>WSL2 ç’°å¢ƒé‡è£èˆ‡é™¤éŒ¯æŒ‡å— (PX4 v1.14.3)</h2>
            </div>
            <div class="fix-note" style="margin-bottom: 1.5rem;">
                âœ… é©ç”¨æƒ…å¢ƒï¼šUbuntu 22.04 LTS ç³»çµ±ä¸‹ï¼Œè§£æ±º SITL æ¨¡æ“¬å™¨ç„¡æ³•å•Ÿå‹•ã€ç„¡æ³•ç·¨è­¯ï¼Œæˆ–æŒçºŒè·³å‡º battery warning ç­‰ç•°å¸¸è¡Œç‚ºã€‚
            </div>

            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-num">1</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">æ¸…é™¤èˆŠ PX4 ç›®éŒ„</div>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">cd ~
rm -rf PX4-Autopilot</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="flow-step">
                    <div class="step-num">2</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">æ¸…é™¤ Gazebo æ®˜ç•™èˆ‡ä¾è³´</div>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">sudo apt remove --purge gazebo libgazebo11 libgazebo-dev libgazebo11-* -y 2>/dev/null
sudo apt remove --purge gz-garden gz-harmonic -y 2>/dev/null
sudo apt autoremove -y
sudo apt clean</code></pre>
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-num">3</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">é‡æ–° clone PX4 v1.14.3 (ç©©å®šç‰ˆ)</div>
                        <p style="color:var(--orange); font-size:0.85rem; margin-top:0.3rem;">âš ï¸ <code>--recursive</code> åƒæ•¸ä¸å¯çœç•¥ï¼ä¸‹è¼‰æ™‚é–“ç´„ 5~10 åˆ†é˜ã€‚</p>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">cd ~
git clone https://github.com/PX4/PX4-Autopilot.git --recursive -b v1.14.3</code></pre>
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-num">4</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">åŸ·è¡Œå®˜æ–¹å®‰è£è…³æœ¬</div>
                        <p class="step-desc">éç¨‹ä¸­æœƒè©¢å•æ˜¯å¦å®‰è£ Gazeboï¼Œè«‹è¼¸å…¥ <code>y</code> ç¢ºèªã€‚</p>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">cd ~/PX4-Autopilot
bash ./Tools/setup/ubuntu.sh</code></pre>
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-num">5</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">é‡å•Ÿ WSL (å¿…åšï¼)</div>
                        <p class="step-desc">è«‹åœ¨ <strong>Windows PowerShell</strong> åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œéš¨å¾Œé‡æ–°é–‹å•Ÿ WSL çµ‚ç«¯æ©Ÿã€‚</p>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">powershell</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">wsl --shutdown</code></pre>
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-num">6</div>
                    <div style="flex-grow: 1;">
                        <div class="step-label">é¦–æ¬¡ç·¨è­¯èˆ‡å•Ÿå‹•</div>
                        <p class="step-desc">ç¬¬ä¸€æ¬¡ç·¨è­¯ç´„éœ€ 10~15 åˆ†é˜ã€‚</p>
                        <div class="code-wrap">
                            <div class="code-header"><span class="code-lang">bash</span><button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button></div>
                            <pre><code class="language-bash">cd ~/PX4-Autopilot
make px4_sitl gazebo-classic</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <h3 style="margin-top: 1.5rem; color:var(--green)">ğŸ¯ é æœŸæˆåŠŸçµæœ</h3>
            <div class="code-wrap" style="background:#000 !important;">
                <pre><code class="language-bash">INFO  [px4] Startup script returned successfully
pxh> INFO  [tone_alarm] home set</code></pre>
            </div>
            <p style="color:var(--text2); margin-top:0.5rem; font-size:0.95rem;">
                ç•¶ Gazebo è¦–çª—å½ˆå‡ºï¼Œç„¡äººæ©Ÿåœ¨åœ°é¢å¾…å‘½æ™‚ï¼Œç›´æ¥åœ¨ <code>pxh></code> è¼¸å…¥ <code>commander arm -f</code> èˆ‡ <code>commander takeoff</code> å³å¯ç¢ºèªèµ·é£›ç„¡èª¤ã€‚
            </p>
        </section>

        <section class="section" id="code">
            <div class="section-header">
                <div class="section-icon icon-purple">ğŸ’»</div>
                <h2>æ ¸å¿ƒç¨‹å¼ç¢¼ (V1.1 æœ€æ–°ä¿®æ­£ç‰ˆ)</h2>
            </div>

            <h3>4.1 è¦–è¦ºæ§åˆ¶ç«¯ â€” ai_vision_rpi5_fixed.py</h3>
            <div class="fix-note">
                âœ… ä¿®æ­£ç´€éŒ„ï¼šåŠ å…¥ <code>os</code> æ¨¡çµ„èˆ‡ TF è­¦å‘Šéæ¿¾ï¼Œå„ªåŒ– <code>takeoff</code> é‚è¼¯ï¼Œç¢ºä¿åœ¨éè§£é–ç‹€æ…‹ä¸‹å…ˆè§¸ç™¼ ARM æŒ‡ä»¤ã€‚
            </div>
            <div class="code-wrap">
                <div class="code-header">
                    <span class="code-lang">python Â· ai_vision_rpi5_fixed.py</span>
                    <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button>
                </div>
                <pre><code class="language-python">import os
import cv2
import mediapipe as mp
import pymavlink.mavutil as mavutil
import time
import threading

# ç’°å¢ƒè®Šæ•¸èˆ‡è­¦å‘Šå¿½ç•¥
os.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'

## === è¨­å®šå€ ===
SITL_IP = "192.168.31.220"
SITL_PORT = 14540 
DEBOUNCE_TIME = 1.0

class DroneController:
    def __init__(self):
        self.conn = mavutil.mavlink_connection(f'udpout:{SITL_IP}:{SITL_PORT}', source_system=255)
        self.state = 0  # 0:GROUND, 1:ARMED, 2:AIRBORNE, 3:LANDING
        self.last_action_time = 0
        
        # å•Ÿå‹•å¿ƒè·³åŒ…ç·šç¨‹ (è®“ SITL çŸ¥é“æˆ‘å€‘åœ¨ç·šä¸Š)
        self.heartbeat_thread = threading.Thread(target=self._send_heartbeat, daemon=True)
        self.heartbeat_thread.start()

    def _send_heartbeat(self):
        while True:
            self.conn.mav.heartbeat_send(
                mavutil.mavlink.MAV_TYPE_GCS,
                mavutil.mavlink.MAV_AUTOPILOT_INVALID, 0, 0, 0)
            time.sleep(1)

    def force_arm(self):
        print(">>> ç™¼é€ FORCE ARM (Magic: 21196)")
        self.conn.mav.command_long_send(
            self.conn.target_system, self.conn.target_component,
            mavutil.mavlink.MAV_CMD_COMPONENT_ARM_DISARM, 0,
            1, 21196, 0, 0, 0, 0, 0)
        self.state = 1

    def takeoff(self, alt=2.5):
        if self.state != 1: self.force_arm()
        time.sleep(0.5)
        print(f">>> ç™¼é€ TAKEOFF è‡³é«˜åº¦: {alt}m")
        # ä½¿ç”¨ command_long è¼ƒç‚ºé€šç”¨æ–¼ç°¡å–®èµ·é£›
        self.conn.mav.command_long_send(
            self.conn.target_system, self.conn.target_component,
            mavutil.mavlink.MAV_CMD_NAV_TAKEOFF, 0,
            0, 0, 0, 0, 0, 0, alt)
        self.state = 2

    def land(self):
        print(">>> ç™¼é€ LAND")
        self.conn.mav.command_long_send(
            self.conn.target_system, self.conn.target_component,
            mavutil.mavlink.MAV_CMD_NAV_LAND, 0,
            0, 0, 0, 0, 0, 0, 0)
        self.state = 3

## === æ‰‹å‹¢è¾¨è­˜é‚è¼¯ ===
def get_fingers_count(hand_lms, handedness):
    fingers = []
    # æ‹‡æŒ‡ (æ ¹æ“šå·¦å³æ‰‹æ¨™ç±¤åˆ¤å®š X åº§æ¨™)
    if handedness == "Right":
        fingers.append(hand_lms.landmark[4].x &lt; hand_lms.landmark[3].x)
    else:
        fingers.append(hand_lms.landmark[4].x &gt; hand_lms.landmark[3].x)
    
    # é£ŸæŒ‡è‡³å°æŒ‡ (æ¯”è¼ƒ Y åº§æ¨™)
    for tip_id in [8, 12, 16, 20]:
        fingers.append(hand_lms.landmark[tip_id].y &lt; hand_lms.landmark[tip_id-2].y)
    return sum(fingers)

## === ä¸»ç¨‹å¼ ===
drone = DroneController()
mp_hands = mp.solutions.hands
hands = mp_hands.Hands(model_complexity=0, min_detection_confidence=0.7)
cap = cv2.VideoCapture(0)

while cap.isOpened():
    success, frame = cap.read()
    if not success: break
    
    frame = cv2.flip(frame, 1)
    results = hands.process(cv2.cvtColor(frame, cv2.COLOR_BGR2RGB))
    
    current_time = time.time()
    display_msg = "IDLE"
    
    if results.multi_hand_landmarks:
        for i, hand_lms in enumerate(results.multi_hand_landmarks):
            label = results.multi_handedness[i].classification[0].label
            count = get_fingers_count(hand_lms, label)
            
            # ç•«åœ–
            mp.solutions.drawing_utils.draw_landmarks(frame, hand_lms, mp_hands.HAND_CONNECTIONS)
            
            # æŒ‡ä»¤è§¸ç™¼åˆ¤æ–·
            if current_time - drone.last_action_time &gt; DEBOUNCE_TIME:
                if count == 2: # YA -&gt; ARM
                    drone.force_arm()
                    drone.last_action_time = current_time
                elif count == 5: # Palm -&gt; Takeoff
                    drone.takeoff(1)
                    drone.last_action_time = current_time
                elif count == 0: # Fist -&gt; Land
                    drone.land()
                    drone.last_action_time = current_time

    # UI é¡¯ç¤º
    status_map = ["GROUND", "ARMED", "AIRBORNE", "LANDING"]
    cv2.putText(frame, f"STATE: {status_map[drone.state]}", (10, 50), 
                cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 255, 0), 2)
    
    cv2.imshow('Marlon AIoT Controller', frame)
    if cv2.waitKey(1) &amp; 0xFF == ord('q'): break

cap.release()
cv2.destroyAllWindows()</code></pre>
            </div>

            <h3>4.2 æ™ºæ…§æ©‹æ¥å™¨ â€” windows_udp_bridge.py</h3>
            <div class="fix-note" style="background:rgba(0,212,255,0.06); border-color:rgba(0,212,255,0.25); color:var(--accent);">
                â„¹ï¸ v1.1 æ›´æ–°ï¼šåŠ å…¥ <code>struct</code> äºŒé€²åˆ¶è§£ç¢¼èƒ½åŠ›ï¼Œå®Œç¾æ•æ‰ä¸¦è¾¨è­˜ MAVLink v1 çš„ COMMAND_LONG å°åŒ…ï¼Œæ”¯æ´å‹•æ…‹æŠ“å– WSL IPã€‚
            </div>
            <div class="code-wrap">
                <div class="code-header">
                    <span class="code-lang">python Â· windows_udp_bridge.py</span>
                    <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ è¤‡è£½</button>
                </div>
                <pre><code class="language-python">import socket
import threading
import time
import subprocess
import re
import struct  # æ–°å¢ï¼šç”¨æ–¼è§£ç¢¼äºŒé€²åˆ¶æ•¸æ“š

# === è¨­å®š ===
EXTERNAL_PORT = 14540 
WSL_PORT = 14540

# === MAVLink æŒ‡ä»¤å°ç…§è¡¨ ===
MAV_CMD = {
    22: "ğŸš èµ·é£› (TAKEOFF)",
    21: "ğŸ›¬ é™è½ (LAND)",
    400: "ğŸ”“ è§£é–/ä¸Šé– (ARM/DISARM)",
    511: "â„¹ï¸ è¨­å®šæ¨¡å¼ (SET_MODE)"
}

def get_wsl_ip():
    """è‡ªå‹•åµæ¸¬ WSL çš„ IP åœ°å€"""
    try:
        # å˜—è©¦ wsl hostname -I (æœ€æº–ç¢º)
        wsl_ip = subprocess.check_output(["wsl", "hostname", "-I"]).decode().strip().split(' ')[0]
        return wsl_ip
    except:
        try:
            # å‚™ç”¨æ–¹æ¡ˆ: ipconfig (è¼ƒä¸ç©©)
            result = subprocess.check_output("ipconfig", shell=True).decode('big5', errors='ignore')
            ips = re.findall(r"IPv4 ä½å€[ .]+: (172\.[0-9]+\.[0-9]+\.[0-9]+)", result)
            return ips[0] if ips else input("è«‹æ‰‹å‹•è¼¸å…¥ WSL IP: ")
        except:
            return input("è«‹æ‰‹å‹•è¼¸å…¥ WSL IP: ")

def parse_mavlink_packet(data):
    """è§£æ MAVLink v1 å°åŒ…ä¸¦å›å‚³å¯è®€è¨Šæ¯"""
    try:
        if len(data) &lt; 6: return None
        
        # MAVLink v1 Header çµæ§‹
        # [0]=Magic(0xFE), [1]=Len, [2]=Seq, [3]=Sys, [4]=Comp, [5]=MsgID
        magic = data[0]
        msg_id = data[5]

        # 1. å¿ƒè·³åŒ… (Msg ID 0)
        if msg_id == 0:
            return "ğŸ’“ å¿ƒè·³åŒ… (HEARTBEAT)"

        # 2. COMMAND_LONG (Msg ID 76) - é€™æ˜¯æœ€é‡è¦çš„æŒ‡ä»¤åŒ…
        elif msg_id == 76:
            # åœ¨ MAVLink v1 wire format ä¸­ï¼ŒCOMMAND_LONG çš„ Payload æ’åˆ—å¦‚ä¸‹ï¼š
            # param1~7 (4bytes*7) | command (2bytes) | target_sys | target_comp | confirm
            # Payload å¾ index 6 é–‹å§‹
            # Command ID åœ¨ Payload çš„ç¬¬ 28 bytes è™• (7å€‹ float ä¹‹å¾Œ)
            # æ‰€ä»¥çµ•å°ä½ç½®æ˜¯ 6 + 28 = 34
            if len(data) &gt;= 36:
                cmd_id = struct.unpack('&lt;H', data[34:36])[0] # Little-endian unsigned short
                cmd_name = MAV_CMD.get(cmd_id, f"æœªçŸ¥æŒ‡ä»¤ ({cmd_id})")
                
                # å¦‚æœæ˜¯è§£é–æŒ‡ä»¤ (400)ï¼Œæˆ‘å€‘å¯ä»¥é€²ä¸€æ­¥çœ‹ param1
                if cmd_id == 400:
                    param1 = struct.unpack('&lt;f', data[6:10])[0]
                    action = "è§£é–" if param1 == 1.0 else "ä¸Šé–"
                    return f"ğŸ”“ {action} (ARM/DISARM)"
                
                return f"âš¡ {cmd_name}"
            
        return f"ğŸ“¦ å…¶ä»–å°åŒ… (ID: {msg_id})"

    except Exception as e:
        return f"è§£æéŒ¯èª¤: {e}"

def bridge():
    wsl_ip = get_wsl_ip()
    print("="*50)
    print(f"ğŸš MAVLink æ™ºæ…§æ©‹æ¥å™¨ (Smart Bridge)")
    print(f"å¤–éƒ¨ä¾†æº (RPi5): 0.0.0.0:{EXTERNAL_PORT}")
    print(f"å…§éƒ¨ç›®æ¨™ (WSL) : {wsl_ip}:{WSL_PORT}")
    print("="*50)

    sock_ext = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    sock_ext.bind(('0.0.0.0', EXTERNAL_PORT))
    
    sock_int = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    rpi_client_addr = None

    print(f"âœ… æ­£åœ¨ç›£è½ä¸¦å³æ™‚è§£ç¢¼æŒ‡ä»¤...")
    print(f"âš ï¸  è«‹ç¢ºä¿ Windows é˜²ç«ç‰†å…è¨± Python é€šéï¼")

    def forward_to_wsl():
        nonlocal rpi_client_addr
        while True:
            try:
                data, addr = sock_ext.recvfrom(4096)
                
                # --- å³æ™‚è§£ç¢¼é¡¯ç¤º ---
                # åªé¡¯ç¤ºéå¿ƒè·³åŒ…ï¼Œæˆ–è€…æ¯ 5 ç§’é¡¯ç¤ºä¸€æ¬¡å¿ƒè·³ä»¥å…æ´—ç‰ˆ
                # é€™è£¡è¨­å®šï¼šåªè¦æ˜¯ Command (ID 76) å°±ä¸€å®šé¡¯ç¤º
                if len(data) &gt; 0:
                    msg = parse_mavlink_packet(data)
                    
                    # éæ¿¾æ‰å¿ƒè·³åŒ…é¡¯ç¤ºï¼Œè®“ç•«é¢ä¹¾æ·¨ï¼Œåªå°ˆæ³¨çœ‹å‹•ä½œæŒ‡ä»¤
                    if msg and "å¿ƒè·³" not in msg:
                        print(f"[{time.strftime('%H:%M:%S')}] ğŸ”¥ {msg} | ä¾†è‡ª: {addr[0]}")
                    
                    # å¦‚æœä½ æƒ³çœ‹å¿ƒè·³åŒ…ç¢ºèªé€£ç·šï¼Œå¯ä»¥æŠŠä¸‹é¢é€™è¡Œè¨»è§£æ‰“é–‹
                    # elif msg and "å¿ƒè·³" in msg: print(".", end="", flush=True)
                # -------------------

                if rpi_client_addr != addr:
                    print(f"\n[é€£ç·š] RPi5 å·²é€£æ¥: {addr}")
                    rpi_client_addr = addr
                
                sock_int.sendto(data, (wsl_ip, WSL_PORT))
            except Exception as e:
                print(f"è½‰ç™¼éŒ¯èª¤: {e}")

    t1 = threading.Thread(target=forward_to_wsl)
    t1.daemon = True
    t1.start()

    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        print("\næ©‹æ¥å™¨å·²é—œé–‰")

if __name__ == "__main__":
    bridge()</code></pre>
            </div>
        </section>

        <section class="section" id="gesture">
            <div class="section-header">
                <div class="section-icon icon-orange">ğŸ¤š</div>
                <h2>æ‰‹å‹¢æŒ‡ä»¤å°ç…§</h2>
            </div>
            <div class="gesture-grid">
                <div class="gesture-card">
                    <span class="gesture-emoji">âœŒï¸</span>
                    <div class="gesture-name">2 æŒ‡ (YA)</div>
                    <div class="gesture-cmd">force_arm()</div>
                    <div class="gesture-state">GROUND â†’ ARMED</div>
                </div>
                <div class="gesture-card">
                    <span class="gesture-emoji">âœ‹</span>
                    <div class="gesture-name">5 æŒ‡ (å±•æŒ)</div>
                    <div class="gesture-cmd">takeoff(alt=1.0m)</div>
                    <div class="gesture-state">ARMED â†’ AIRBORNE</div>
                </div>
                <div class="gesture-card">
                    <span class="gesture-emoji">âœŠ</span>
                    <div class="gesture-name">0 æŒ‡ (æ‹³é ­)</div>
                    <div class="gesture-cmd">land()</div>
                    <div class="gesture-state">AIRBORNE â†’ LANDING</div>
                </div>
                <div class="gesture-card">
                    <span class="gesture-emoji">â±ï¸</span>
                    <div class="gesture-name">é˜²æŠ–å»¶é²</div>
                    <div class="gesture-cmd">DEBOUNCE = 1.0s</div>
                    <div class="gesture-state">é˜²æ­¢èª¤è§¸/æŠ–å‹•</div>
                </div>
            </div>
        </section>

        <section class="section" id="next">
            <div class="section-header">
                <div class="section-icon icon-purple">ğŸš€</div>
                <h2>ä¸‹ä¸€æ­¥è¨ˆç•« â€” å¯¦æ©Ÿéƒ¨ç½²</h2>
            </div>
            <p style="color:var(--text2); margin-bottom:1.2rem;">
                SITL é©—è­‰å®Œæˆï¼Œä¸‹ä¸€éšæ®µç‚º <strong style="color:var(--accent2)">Hardware Deployment (å¯¦æ©Ÿéƒ¨ç½²)</strong>ï¼Œ
                æ¥ä¸ŠçœŸå¯¦ Pixhawk 6Cã€‚
            </p>
            <div class="next-steps">
                <div class="next-step">
                    <div class="next-num">1</div>
                    <div>
                        <div class="next-title">ç‰©ç†é€£æ¥</div>
                        <div class="next-desc">RPI5 USB â†” Pixhawk 6C TELEM2 (æˆ– USB-C)</div>
                    </div>
                </div>
                <div class="next-step">
                    <div class="next-num">2</div>
                    <div>
                        <div class="next-title">ç¨‹å¼ä¿®æ”¹ â€” é€£ç·šå­—ä¸²</div>
                        <div class="next-desc">
                            ç§»é™¤ <code class="inline">udpout</code>ï¼Œæ”¹ç”¨ï¼š
                            <code class="inline">mavutil.mavlink_connection('/dev/ttyUSB0', baud=57600)</code>
                        </div>
                    </div>
                </div>
                <div class="next-step">
                    <div class="next-num">3</div>
                    <div>
                        <div class="next-title">åºåˆ—åŸ æ¬Šé™è¨­å®š</div>
                        <div class="next-desc"><code class="inline">sudo chmod 666 /dev/ttyUSB0</code>ï¼ˆæˆ–å°‡ä½¿ç”¨è€…åŠ å…¥ dialout ç¾¤çµ„ï¼‰</div>
                    </div>
                </div>
                <div class="next-step">
                    <div class="next-num">4</div>
                    <div>
                        <div class="next-title">å®‰å…¨æ¸¬è©¦ <span class="warn">âš ï¸ å‹™å¿…æ‹†é™¤èºæ—‹æ§³</span></div>
                        <div class="next-desc">å…ˆåœ¨åœ°é¢åŸ·è¡Œè§£é–æ¸¬è©¦ï¼Œç¢ºèª MAVLink é€šè¨Šæ­£å¸¸ï¼Œå†è£æ§³é€²è¡Œé£›è¡Œã€‚</div>
                    </div>
                </div>
            </div>
        </section>

    </main>
</div>

<footer>
    æ–‡ä»¶ç”Ÿæˆæ™‚é–“: 2026-02-19 &nbsp;|&nbsp; AIoT Gesture Drone Control v1.1 &nbsp;|&nbsp; ç ”ç™¼æŠ€è¡“æ‰‹å†Š
</footer>

<button id="scrolltop" onclick="window.scrollTo({top:0,behavior:'smooth'})" title="å›åˆ°é ‚éƒ¨">â†‘</button>

<script>
    // Mermaid init
    mermaid.initialize({
        startOnLoad: true,
        theme: 'dark',
        themeVariables: {
            primaryColor: '#1e2430',
            primaryTextColor: '#c9d1d9',
            primaryBorderColor: '#00d4ff',
            lineColor: '#555',
            secondaryColor: '#161b22',
            tertiaryColor: '#0d0d0d',
            clusterBkg: '#161b22',
            edgeLabelBackground: '#1e2430'
        }
    });

    // Theme toggle
    function toggleTheme() {
        const body = document.body;
        const isLight = body.getAttribute('data-theme') === 'light';
        const newTheme = isLight ? 'dark' : 'light';
        body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        document.getElementById('themeBtn').textContent = newTheme === 'light' ? 'ğŸŒ™ æ·±è‰²' : 'â˜€ï¸ æ·ºè‰²';
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.body.setAttribute('data-theme', savedTheme);
    document.getElementById('themeBtn').textContent = savedTheme === 'light' ? 'ğŸŒ™ æ·±è‰²' : 'â˜€ï¸ æ·ºè‰²';

    // Tab switching
    function showTab(id, btn) {
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('tab-' + id).classList.add('active');
        btn.classList.add('active');
    }

    // Copy code
    function copyCode(btn) {
        const codeEl = btn.closest('.code-wrap').querySelector('code');
        navigator.clipboard.writeText(codeEl.innerText).then(() => {
            btn.textContent = 'âœ… å·²è¤‡è£½';
            setTimeout(() => btn.textContent = 'ğŸ“‹ è¤‡è£½', 2000);
        });
    }

    // Scroll top button
    const scrollBtn = document.getElementById('scrolltop');
    window.addEventListener('scroll', () => {
        scrollBtn.classList.toggle('show', window.scrollY > 400);
    });

    // Active sidebar link on scroll
    const sections = document.querySelectorAll('section[id], div.section[id]');
    const sideLinks = document.querySelectorAll('.sidebar a');
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(s => {
            if (window.scrollY >= s.offsetTop - 100) current = s.id;
        });
        sideLinks.forEach(a => {
            a.classList.toggle('active', a.getAttribute('href') === '#' + current);
        });
    });
</script>
</body>
</html>