<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIOT ç„¡äººæ©Ÿè¦–è¦ºæ§åˆ¶ | PX4 SITL + WSL2 çµ‚æ¥µç ”ç™¼å¯¶å…¸ v5.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500;600&display=swap');

        :root {
            --bg-color: #0d1117;
            --bg-secondary: #0a0e14;
            --card-bg: #161b22;
            --card-bg-hover: #1c2333;
            --accent-primary: #00d4ff;
            --accent-secondary: #7c3aed;
            --accent-tertiary: #f59e0b;
            --success: #3fb950;
            --warning: #f78166;
            --danger: #ef4444;
            --info: #58a6ff;
            --border: #30363d;
            --border-light: #3d444d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
        }

        * {
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            scroll-behavior: smooth;
        }

        .code-font {
            font-family: 'Fira Code', 'Cascadia Code', monospace;
        }

        /* Glass Panel */
        .glass-panel {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.03);
            transition: all 0.3s ease;
        }

        .glass-panel:hover {
            border-color: var(--border-light);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        /* Code Blocks */
        pre {
            background: #010409;
            padding: 1.25rem;
            border-radius: 10px;
            font-size: 0.82rem;
            overflow-x: auto;
            border: 1px solid var(--border);
            line-height: 1.65;
            position: relative;
        }

        pre code {
            font-family: 'Fira Code', monospace;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid var(--border);
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
            z-index: 10;
        }

        .copy-btn:hover {
            background: var(--accent-primary);
            color: #000;
            border-color: var(--accent-primary);
        }

        /* Badge */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .badge-success {
            background: rgba(63, 185, 80, 0.15);
            color: #3fb950;
            border: 1px solid rgba(63, 185, 80, 0.3);
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .badge-info {
            background: rgba(88, 166, 255, 0.15);
            color: #58a6ff;
            border: 1px solid rgba(88, 166, 255, 0.3);
        }

        .badge-danger {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Step Card */
        .step-card {
            position: relative;
            padding-left: 2rem;
        }

        .step-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 3px;
        }

        /* Table */
        table {
            border-collapse: separate;
            border-spacing: 0;
            width: 100%;
        }

        thead th {
            background: rgba(0, 212, 255, 0.08);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: var(--accent-primary);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--accent-primary);
        }

        tbody td {
            padding: 10px 16px;
            border-bottom: 1px solid var(--border);
            font-size: 0.85rem;
        }

        tbody tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        /* TOC */
        .toc-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 16px;
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .toc-item:hover {
            background: rgba(0, 212, 255, 0.08);
            color: var(--accent-primary);
            transform: translateX(4px);
        }

        .toc-num {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 700;
            color: #fff;
            flex-shrink: 0;
        }

        /* Section Header */
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .section-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 12px;
            flex-shrink: 0;
        }

        /* Flow Diagram */
        .flow-box {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 16px 20px;
            text-align: center;
            transition: all 0.3s;
            position: relative;
        }

        .flow-box:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }

        .flow-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-primary);
            font-size: 1.5rem;
            padding: 0 8px;
        }

        .flow-arrow-down {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-primary);
            font-size: 1.5rem;
            padding: 8px 0;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-light);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeInUp 0.5s ease-out forwards;
        }

        /* Highlight */
        .highlight-box {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(124, 58, 237, 0.05));
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 1.25rem;
        }

        /* Port Tag */
        .port-tag {
            display: inline-flex;
            align-items: center;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            padding: 2px 10px;
            font-family: 'Fira Code', monospace;
            font-size: 0.8rem;
            color: var(--accent-primary);
            font-weight: 600;
        }

        /* Print */
        @media print {
            body {
                background: #fff;
                color: #000;
            }

            .glass-panel {
                border: 1px solid #ccc;
                box-shadow: none;
            }

            pre {
                background: #f5f5f5;
                border: 1px solid #ddd;
            }
        }
    </style>
</head>

<body class="flex">
    <!-- å·¦å´é‚Šæ¬„ç« ç¯€å°è¦½ -->
    <aside
        class="hidden lg:flex w-64 h-screen sticky top-0 overflow-y-auto border-r border-[#30363d] bg-[#0a0e14] p-5 shrink-0 flex-col custom-scrollbar">
        <div class="mb-8">
            <h2 class="text-xl font-bold text-sky-400 flex items-center gap-2">
                <i data-lucide="book-open" class="w-6 h-6"></i>
                ç« ç¯€å°è¦½
            </h2>
            <p class="text-[11px] text-slate-500 mt-2">PX4 SITL + WSL2 å¯¶å…¸</p>
        </div>
        <nav class="flex flex-col gap-1">
            <a href="#sec1" class="toc-item !px-3 !py-2"><span
                    class="toc-num !w-6 !h-6 !text-[10px]">1</span>å…¨é€šè·¯æ¶æ§‹ç¸½è¦½</a>
            <a href="#sec2" class="toc-item !px-3 !py-2"><span
                    class="toc-num !w-6 !h-6 !text-[10px]">2</span>ç³»çµ±éœ€æ±‚èˆ‡ç’°å¢ƒ</a>
            <a href="#sec3" class="toc-item !px-3 !py-2"><span
                    class="toc-num !w-6 !h-6 !text-[10px]">3</span>å•Ÿå‹•æµç¨‹ï¼ˆä¸‰æ­¥é©Ÿï¼‰</a>
            <a href="#sec4" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">4</span>MAVLink
                é€šè¨Šè©³è§£</a>
            <a href="#sec5" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">5</span>è¨ºæ–·å°ç…§è¡¨</a>
            <a href="#sec6" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">6</span>å®Œæ•´åŸå§‹ç¢¼</a>
            <a href="#sec7" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">7</span>æ°¸ä¹…ä¿®å¾©è…³æœ¬</a>
            <a href="#sec8" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">8</span>ç¶²è·¯æ‹“æ’²èˆ‡
                IP</a>
            <a href="#sec9" class="toc-item !px-3 !py-2"><span class="toc-num !w-6 !h-6 !text-[10px]">9</span>FAQ
                å¸¸è¦‹å•é¡Œ</a>
        </nav>
    </aside>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <main class="flex-1 p-4 md:p-8 min-w-0">
        <div class="max-w-6xl mx-auto">

            <!-- ==================== HEADER ==================== -->
            <header class="text-center mb-12 animate-in">
                <div class="inline-flex items-center gap-2 mb-4">
                    <span class="badge badge-success">âœ… å…¨é€šå·²é©—è­‰</span>
                    <span class="badge badge-info">v5.0</span>
                    <span class="badge badge-warning">2026-02-20</span>
                </div>
                <h1
                    class="text-4xl md:text-6xl font-black bg-gradient-to-r from-sky-400 via-purple-400 to-amber-400 bg-clip-text text-transparent mb-4 leading-tight">
                    PX4 SITL + WSL2 + Bridge<br />çµ‚æ¥µç ”ç™¼å¯¶å…¸
                </h1>
                <p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">
                    MediaPipe æ‰‹å‹¢æ§åˆ¶ â†’ Windows Bridge â†’ PX4 SITL â†’ Gazebo â†’ QGC<br />
                    <span class="text-slate-500">å…¨éˆè·¯å®Œæ•´ç ”ç™¼ç´€éŒ„ | MarlonWu AIoT Lab</span>
                </p>
            </header>

            <!-- ==================== TOC ==================== -->
            <nav class="glass-panel p-6 mb-8 animate-in" id="toc">
                <h2 class="text-lg font-bold text-slate-300 mb-4 flex items-center gap-2">
                    <i data-lucide="list" class="w-5 h-5 text-sky-400"></i>ç›®éŒ„ Table of Contents
                </h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-2">
                    <a href="#sec1" class="toc-item"><span class="toc-num">1</span>å…¨é€šè·¯æ¶æ§‹ç¸½è¦½</a>
                    <a href="#sec2" class="toc-item"><span class="toc-num">2</span>ç³»çµ±éœ€æ±‚èˆ‡ç’°å¢ƒ</a>
                    <a href="#sec3" class="toc-item"><span class="toc-num">3</span>å•Ÿå‹•æµç¨‹ï¼ˆä¸‰æ­¥é©Ÿï¼‰</a>
                    <a href="#sec4" class="toc-item"><span class="toc-num">4</span>MAVLink é€šè¨Šè©³è§£</a>
                    <a href="#sec5" class="toc-item"><span class="toc-num">5</span>è¨ºæ–·å°ç…§è¡¨</a>
                    <a href="#sec6" class="toc-item"><span class="toc-num">6</span>å®Œæ•´åŸå§‹ç¢¼</a>
                    <a href="#sec7" class="toc-item"><span class="toc-num">7</span>æ°¸ä¹…ä¿®å¾©è…³æœ¬</a>
                    <a href="#sec8" class="toc-item"><span class="toc-num">8</span>ç¶²è·¯æ‹“æ’²èˆ‡ IP</a>
                    <a href="#sec9" class="toc-item"><span class="toc-num">9</span>FAQ å¸¸è¦‹å•é¡Œ</a>
                </div>
            </nav>

            <!-- ==================== SEC 1: å…¨é€šè·¯æ¶æ§‹ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec1">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="network" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">1. å…¨é€šè·¯æ¶æ§‹ç¸½è¦½</h2>
                        <p class="text-sm text-slate-500">System Architecture Overview</p>
                    </div>
                </div>

                <!-- Visual Flow -->
                <div class="grid grid-cols-1 md:grid-cols-9 gap-3 items-center mb-8">
                    <div class="flow-box md:col-span-2 border-red-500/50">
                        <div class="text-2xl mb-1">ğŸ¤–</div>
                        <div class="font-bold text-red-400 text-sm">RPI5</div>
                        <div class="text-xs text-slate-500">MediaPipe æ‰‹å‹¢è¾¨è­˜</div>
                        <div class="text-xs text-slate-600 mt-1">pymavlink ç™¼é€</div>
                    </div>
                    <div class="flow-arrow md:col-span-1">
                        <div class="text-center">
                            <div class="port-tag text-xs">UDP 14540</div>
                            <div class="text-sky-400 text-xl mt-1">â†’</div>
                        </div>
                    </div>
                    <div class="flow-box md:col-span-2 border-amber-500/50">
                        <div class="text-2xl mb-1">ğŸŒ‰</div>
                        <div class="font-bold text-amber-400 text-sm">Windows Bridge</div>
                        <div class="text-xs text-slate-500">å°åŒ…è½‰ç™¼ + è§£ç¢¼</div>
                        <div class="text-xs text-slate-600 mt-1">windows_udp_bridge.py</div>
                    </div>
                    <div class="flow-arrow md:col-span-1">
                        <div class="text-center">
                            <div class="port-tag text-xs">UDP 14580</div>
                            <div class="text-sky-400 text-xl mt-1">â†’</div>
                        </div>
                    </div>
                    <div class="flow-box md:col-span-2 border-blue-500/50">
                        <div class="text-2xl mb-1">ğŸ›©ï¸</div>
                        <div class="font-bold text-blue-400 text-sm">PX4 SITL</div>
                        <div class="text-xs text-slate-500">WSL2 Ubuntu 22.04</div>
                        <div class="text-xs text-slate-600 mt-1">instance #1 æ¥æ”¶</div>
                    </div>
                </div>

                <!-- PX4 Output -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 ml-0 md:ml-[58%]">
                    <div class="flex items-center gap-3">
                        <div class="text-center">
                            <div class="port-tag text-xs">UDP 14550</div>
                            <div class="text-sky-400">â†“</div>
                        </div>
                        <div class="flow-box flex-1 border-emerald-500/50">
                            <div class="text-lg">ğŸ“±</div>
                            <div class="font-bold text-emerald-400 text-sm">QGC åœ°é¢ç«™</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-center">
                            <div class="port-tag text-xs">gz_bridge</div>
                            <div class="text-sky-400">â†“</div>
                        </div>
                        <div class="flow-box flex-1 border-purple-500/50">
                            <div class="text-lg">ğŸ®</div>
                            <div class="font-bold text-purple-400 text-sm">Gazebo Sim</div>
                        </div>
                    </div>
                </div>

                <!-- Port Table -->
                <div class="mt-8">
                    <h3 class="text-lg font-bold text-slate-300 mb-3 flex items-center gap-2">
                        <i data-lucide="radio" class="w-5 h-5 text-sky-400"></i>ç«¯å£åˆ†é…ç¸½è¡¨
                    </h3>
                    <div class="overflow-x-auto rounded-lg border border-slate-700">
                        <table>
                            <thead>
                                <tr>
                                    <th>ç«¯å£</th>
                                    <th>æ–¹å‘</th>
                                    <th>ç”¨é€”</th>
                                    <th>å”è­°</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="port-tag">14540</span></td>
                                    <td>RPI5 â†’ Windows</td>
                                    <td>æ‰‹å‹¢æŒ‡ä»¤è¼¸å…¥</td>
                                    <td class="text-slate-500">UDP MAVLink</td>
                                </tr>
                                <tr>
                                    <td><span class="port-tag">14580</span></td>
                                    <td>Windows â†’ WSL2</td>
                                    <td>Bridge è½‰ç™¼è‡³ PX4</td>
                                    <td class="text-slate-500">UDP MAVLink</td>
                                </tr>
                                <tr>
                                    <td><span class="port-tag">14550</span></td>
                                    <td>WSL2 â†’ Windows</td>
                                    <td>PX4 â†’ QGC åœ°é¢ç«™</td>
                                    <td class="text-slate-500">UDP MAVLink</td>
                                </tr>
                                <tr>
                                    <td><span class="port-tag">gz_bridge</span></td>
                                    <td>PX4 â†” Gazebo</td>
                                    <td>æ¨¡æ“¬å™¨é€šè¨Š</td>
                                    <td class="text-slate-500">Gazebo Transport</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 2: ç³»çµ±éœ€æ±‚ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec2">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="cpu" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">2. ç³»çµ±éœ€æ±‚èˆ‡ç’°å¢ƒæº–å‚™</h2>
                        <p class="text-sm text-slate-500">System Requirements & Environment Setup</p>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="font-bold text-slate-300 mb-3">ğŸ’» ç¡¬é«”éœ€æ±‚</h3>
                        <div class="overflow-x-auto rounded-lg border border-slate-700">
                            <table>
                                <thead>
                                    <tr>
                                        <th>é …ç›®</th>
                                        <th>æœ€ä½</th>
                                        <th>å»ºè­°</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>CPU</td>
                                        <td>4 æ ¸å¿ƒ</td>
                                        <td class="text-emerald-400">8 æ ¸å¿ƒ+</td>
                                    </tr>
                                    <tr>
                                        <td>RAM</td>
                                        <td>8 GB</td>
                                        <td class="text-emerald-400">16 GB+</td>
                                    </tr>
                                    <tr>
                                        <td>GPU</td>
                                        <td>æ•´åˆé¡¯ç¤º</td>
                                        <td class="text-emerald-400">ç¨ç«‹ GPU</td>
                                    </tr>
                                    <tr>
                                        <td>ç¶²è·¯</td>
                                        <td>å€åŸŸç¶²è·¯</td>
                                        <td class="text-emerald-400">ç©©å®š WiFi/æœ‰ç·š</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-300 mb-3">ğŸ› ï¸ è»Ÿé«”ç’°å¢ƒ</h3>
                        <div class="overflow-x-auto rounded-lg border border-slate-700">
                            <table>
                                <thead>
                                    <tr>
                                        <th>å…ƒä»¶</th>
                                        <th>ç‰ˆæœ¬</th>
                                        <th>ä½ç½®</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Windows 11</td>
                                        <td>22H2+</td>
                                        <td class="text-slate-500">ä¸»æ©Ÿ</td>
                                    </tr>
                                    <tr>
                                        <td>WSL2 Ubuntu</td>
                                        <td>22.04</td>
                                        <td class="text-slate-500">å­ç³»çµ±</td>
                                    </tr>
                                    <tr>
                                        <td>PX4-Autopilot</td>
                                        <td>v1.15+</td>
                                        <td class="text-slate-500">WSL2</td>
                                    </tr>
                                    <tr>
                                        <td>Gazebo</td>
                                        <td>Harmonic</td>
                                        <td class="text-slate-500">WSL2</td>
                                    </tr>
                                    <tr>
                                        <td>QGC</td>
                                        <td>v4.3+</td>
                                        <td class="text-slate-500">Windows</td>
                                    </tr>
                                    <tr>
                                        <td>Python</td>
                                        <td>3.10+</td>
                                        <td class="text-slate-500">Win + RPI5</td>
                                    </tr>
                                    <tr>
                                        <td>MediaPipe</td>
                                        <td>0.10+</td>
                                        <td class="text-slate-500">RPI5</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="mt-6">
                    <h3 class="font-bold text-slate-300 mb-3">ğŸ“¦ WSL2 å®‰è£ PX4 å¿«é€ŸæŒ‡ä»¤</h3>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font"><span class="text-slate-500"># å®‰è£ WSL2 Ubuntu</span>
<span class="text-emerald-400">wsl --install -d Ubuntu-22.04</span>

<span class="text-slate-500"># å…‹éš† PX4</span>
<span class="text-emerald-400">git clone https://github.com/PX4/PX4-Autopilot.git --recursive</span>
<span class="text-emerald-400">cd PX4-Autopilot</span>

<span class="text-slate-500"># åŸ·è¡Œå®‰è£è…³æœ¬ï¼ˆè‡ªå‹•å®‰è£æ‰€æœ‰ä¾è³´ï¼‰</span>
<span class="text-emerald-400">bash ./Tools/setup/ubuntu.sh</span>

<span class="text-slate-500"># é¦–æ¬¡ç·¨è­¯ï¼ˆæœƒè‡ªå‹•ä¸‹è¼‰ Gazeboï¼‰</span>
<span class="text-emerald-400">make px4_sitl gz_x500</span></pre>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 3: å•Ÿå‹•æµç¨‹ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec3">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="play-circle" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">3. å•Ÿå‹•æµç¨‹ï¼ˆä¸‰æ­¥é©Ÿï¼‰</h2>
                        <p class="text-sm text-slate-500">Launch Sequence â€” å¿…é ˆæŒ‰é †åº â‘  â†’ â‘¡ â†’ â‘¢</p>
                    </div>
                </div>

                <div class="highlight-box mb-6">
                    <p class="text-amber-400 font-bold flex items-center gap-2">
                        <i data-lucide="alert-triangle" class="w-5 h-5"></i>
                        å•Ÿå‹•é †åºå¾ˆé‡è¦ï¼å¿…é ˆæŒ‰ç…§ Step 1 â†’ Step 2 â†’ Step 3 é †åºå•Ÿå‹•
                    </p>
                </div>

                <!-- Step 1 -->
                <div class="step-card mb-8" style="--step-color: var(--accent-primary);">
                    <h3 class="text-xl font-bold text-sky-400 mb-1 flex items-center gap-2">
                        1ï¸âƒ£ PX4 SITL <span class="badge badge-info">WSL2 çµ‚ç«¯æ©Ÿ</span>
                    </h3>
                    <p class="text-sm text-slate-500 mb-4">å•Ÿå‹•é£›æ§æ¨¡æ“¬å™¨ä¸¦å»ºç«‹ MAVLink é€šé“</p>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font"><span class="text-slate-500"># é€²å…¥ PX4 ç›®éŒ„ä¸¦å•Ÿå‹• SITL + Gazebo</span>
<span class="text-emerald-400">cd ~/PX4-Autopilot</span>
<span class="text-emerald-400">make px4_sitl gz_x500</span>

<span class="text-slate-500"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span>
<span class="text-slate-500"># ç­‰å¾… PX4 shell å‡ºç¾å¾Œï¼Œæ‰‹å‹•å•Ÿå‹• MAVLink é€šé“</span>
<span class="text-slate-500"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span>

<span class="text-slate-500"># é€šé“ 1ï¼šPX4 â†’ QGCï¼ˆWindows åœ°é¢ç«™ï¼‰</span>
<span class="text-slate-500"># -x: MAVLink v2 | -u: UDP port | -r: è³‡æ–™é€Ÿç‡ | -f: å…è¨±è½‰ç™¼ | -t: ç›®æ¨™ IP</span>
<span class="text-amber-400">mavlink start -x -u 14550 -r 4000000 -f -t 172.30.112.1</span>

<span class="text-slate-500"># é€šé“ 2ï¼šæ¥æ”¶ Bridge è½‰ç™¼çš„æ‰‹å‹¢æŒ‡ä»¤</span>
<span class="text-amber-400">mavlink start -x -u 14580 -r 4000000 -f</span></pre>
                    </div>
                    <div class="mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30">
                        <p class="text-sm text-emerald-400 font-mono">âœ… é©—è­‰ï¼š<code>mavlink status</code> â†’ æ‡‰çœ‹åˆ° instance #0
                            (14550) + instance #1 (14580)</p>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="step-card mb-8">
                    <h3 class="text-xl font-bold text-amber-400 mb-1 flex items-center gap-2">
                        2ï¸âƒ£ Windows Bridge <span class="badge badge-warning">Windows PowerShell</span>
                    </h3>
                    <p class="text-sm text-slate-500 mb-4">å•Ÿå‹• MAVLink æ™ºæ…§æ©‹æ¥å™¨ï¼Œè½‰ç™¼å°åŒ…è‡³ WSL2</p>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font"><span class="text-emerald-400">python windows_udp_bridge.py</span>

<span class="text-slate-500"># å•Ÿå‹•å¾Œé¡¯ç¤ºï¼š</span>
<span class="text-slate-500"># ==================================================</span>
<span class="text-slate-500"># ğŸš MAVLink æ™ºæ…§æ©‹æ¥å™¨ (Smart Bridge)</span>
<span class="text-slate-500"># å¤–éƒ¨ä¾†æº (RPi5): 0.0.0.0:14540</span>
<span class="text-slate-500"># å…§éƒ¨ç›®æ¨™ (WSL) : 172.30.119.112:14580</span>
<span class="text-slate-500"># ==================================================</span>
<span class="text-slate-500"># âœ… æ­£åœ¨ç›£è½ä¸¦å³æ™‚è§£ç¢¼æŒ‡ä»¤...</span></pre>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="step-card mb-4">
                    <h3 class="text-xl font-bold text-purple-400 mb-1 flex items-center gap-2">
                        3ï¸âƒ£ Fake RPI5 / çœŸå¯¦ RPI5 <span class="badge"
                            style="background:rgba(124,58,237,0.15);color:#a78bfa;border:1px solid rgba(124,58,237,0.3);">æ¸¬è©¦ç«¯</span>
                    </h3>
                    <p class="text-sm text-slate-500 mb-4">ç™¼é€æ‰‹å‹¢æŒ‡ä»¤ï¼ˆæ¸¬è©¦æˆ–å¯¦éš› MediaPipeï¼‰</p>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font"><span class="text-emerald-400">python fake_rpi5.py</span>

<span class="text-slate-500"># äº’å‹•å¼æŒ‡ä»¤ï¼š</span>
<span class="text-amber-400">>>> a</span>      <span class="text-slate-500"># âœŒï¸ ARMï¼ˆè§£é–é¦¬é”ï¼‰</span>
<span class="text-amber-400">>>> t</span>      <span class="text-slate-500"># âœ‹ TAKEOFFï¼ˆåŸåœ°èµ·é£› 5mï¼‰</span>
<span class="text-amber-400">>>> l</span>      <span class="text-slate-500"># âœŠ LANDï¼ˆåŸåœ°é™è½ï¼‰</span>
<span class="text-amber-400">>>> auto</span>   <span class="text-slate-500"># ğŸš€ è‡ªå‹•æµç¨‹ï¼šARM â†’ é ç†±2ç§’ â†’ TAKEOFF</span>
<span class="text-amber-400">>>> q</span>      <span class="text-slate-500"># é›¢é–‹ç¨‹å¼</span></pre>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 4: MAVLink è©³è§£ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec4">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="binary" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">4. MAVLink é€šè¨Šè©³è§£</h2>
                        <p class="text-sm text-slate-500">MAVLink Protocol Deep Dive</p>
                    </div>
                </div>

                <!-- Packet Structure -->
                <h3 class="font-bold text-slate-300 mb-3">ğŸ“¡ MAVLink v2 å°åŒ…çµæ§‹</h3>
                <div class="relative mb-6">
                    <pre class="code-font text-xs"><span class="text-sky-400">MAVLink v2 Wire Format:</span>
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ 0xFD â”‚ Length â”‚ Incom â”‚ Compat â”‚ Seq  â”‚ SysID â”‚ CompID â”‚ MsgID(3B)â”‚ Payload  â”‚ CRC   â”‚ Sig  â”‚
â”‚ 1B   â”‚ 1B     â”‚ 1B    â”‚ 1B     â”‚ 1B   â”‚ 1B    â”‚ 1B     â”‚ 3B       â”‚ 0~255B   â”‚ 2B    â”‚ 13B  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

<span class="text-amber-400">MAVLink v1 Wire Format (Bridge è§£æç”¨):</span>
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0xFE â”‚ Length â”‚ Seq  â”‚ SysID â”‚ CompID â”‚ MsgID â”‚ Payload  â”‚ CRC   â”‚
â”‚ [0]  â”‚ [1]    â”‚ [2]  â”‚ [3]   â”‚ [4]    â”‚ <span class="text-red-400">[5]</span>   â”‚ <span class="text-red-400">[6+]</span>     â”‚ 2B    â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="text-slate-500">                                         â†‘ Bridge ç”¨ data[5] åˆ¤æ–· MsgID</span></pre>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="font-bold text-slate-300 mb-3">ğŸ”‘ é—œéµ Message ID</h3>
                        <div class="overflow-x-auto rounded-lg border border-slate-700">
                            <table>
                                <thead>
                                    <tr>
                                        <th>MsgID</th>
                                        <th>åç¨±</th>
                                        <th>ç”¨é€”</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-sky-400 font-mono">0</td>
                                        <td>HEARTBEAT</td>
                                        <td class="text-slate-500">å¿ƒè·³ç¶­æŒé€£ç·š</td>
                                    </tr>
                                    <tr>
                                        <td class="text-red-400 font-mono">76</td>
                                        <td>COMMAND_LONG</td>
                                        <td class="text-slate-500">ARM/TAKEOFF/LAND</td>
                                    </tr>
                                    <tr>
                                        <td class="text-amber-400 font-mono">77</td>
                                        <td>COMMAND_ACK</td>
                                        <td class="text-slate-500">æŒ‡ä»¤å›æ‡‰ç¢ºèª</td>
                                    </tr>
                                    <tr>
                                        <td class="text-emerald-400 font-mono">33</td>
                                        <td>GLOBAL_POSITION_INT</td>
                                        <td class="text-slate-500">GPS ä½ç½®</td>
                                    </tr>
                                    <tr>
                                        <td class="text-purple-400 font-mono">74</td>
                                        <td>VFR_HUD</td>
                                        <td class="text-slate-500">é£›è¡Œå„€è¡¨</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-300 mb-3">ğŸ¯ é—œéµ MAV_CMD æŒ‡ä»¤</h3>
                        <div class="overflow-x-auto rounded-lg border border-slate-700">
                            <table>
                                <thead>
                                    <tr>
                                        <th>CMD ID</th>
                                        <th>åç¨±</th>
                                        <th>é—œéµåƒæ•¸</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-red-400 font-mono">400</td>
                                        <td>ARM/DISARM</td>
                                        <td class="text-slate-500">p1=1 è§£é–, p1=0 é–å®š</td>
                                    </tr>
                                    <tr>
                                        <td class="text-emerald-400 font-mono">22</td>
                                        <td>NAV_TAKEOFF</td>
                                        <td class="text-slate-500">p7=ç›®æ¨™é«˜åº¦(m)</td>
                                    </tr>
                                    <tr>
                                        <td class="text-amber-400 font-mono">21</td>
                                        <td>NAV_LAND</td>
                                        <td class="text-slate-500">p4~6=NaN åŸåœ°é™è½</td>
                                    </tr>
                                    <tr>
                                        <td class="text-purple-400 font-mono">176</td>
                                        <td>DO_SET_MODE</td>
                                        <td class="text-slate-500">åˆ‡æ›é£›è¡Œæ¨¡å¼</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- COMMAND_LONG è§£æç´°ç¯€ -->
                <div class="mt-6 highlight-box">
                    <h4 class="font-bold text-amber-400 mb-2">âš¡ COMMAND_LONG (MsgID=76) Payload è§£æ â€” Bridge æ ¸å¿ƒé‚è¼¯</h4>
                    <pre class="code-font text-xs mt-2"><span class="text-slate-500"># MAVLink v1 COMMAND_LONG Payload Layout:</span>
<span class="text-slate-500"># Payload å¾ data[6] é–‹å§‹</span>
<span class="text-sky-400">Offset  Size  Field</span>
[6:10]   4B   param1 (float)  â† <span class="text-amber-400">ARM: 1.0=è§£é–, 0.0=ä¸Šé–</span>
[10:14]  4B   param2 (float)
[14:18]  4B   param3 (float)
[18:22]  4B   param4 (float)  â† <span class="text-amber-400">TAKEOFF: Yaw (NaN=ç¶­æŒç•¶å‰)</span>
[22:26]  4B   param5 (float)  â† <span class="text-amber-400">TAKEOFF: Lat (NaN=ç¶­æŒç•¶å‰)</span>
[26:30]  4B   param6 (float)  â† <span class="text-amber-400">TAKEOFF: Lon (NaN=ç¶­æŒç•¶å‰)</span>
[30:34]  4B   param7 (float)  â† <span class="text-red-400">TAKEOFF: ç›®æ¨™é«˜åº¦ (e.g. 5.0m)</span>
<span class="text-emerald-400">[34:36]  2B   command (uint16) â† Bridge ç”¨ struct.unpack('&lt;H', data[34:36]) å–å¾— CMD ID</span>
[36]     1B   target_system
[37]     1B   target_component
[38]     1B   confirmation</pre>
                </div>
            </section>

            <!-- ==================== SEC 5: è¨ºæ–·å°ç…§è¡¨ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec5">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="stethoscope" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">5. è¨ºæ–·å°ç…§è¡¨</h2>
                        <p class="text-sm text-slate-500">Diagnostic Troubleshooting Matrix</p>
                    </div>
                </div>

                <div class="overflow-x-auto rounded-lg border border-slate-700">
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>ç—‡ç‹€</th>
                                <th>ç¢ºèªæŒ‡ä»¤</th>
                                <th>âœ… æ­£å¸¸çµæœ</th>
                                <th>ğŸ”§ ä¿®å¾©æ–¹æ³•</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-slate-500">1</td>
                                <td class="text-red-400 font-mono text-xs">mavlink status failed</td>
                                <td class="font-mono text-xs">mavlink status</td>
                                <td class="text-emerald-400 text-xs">instance #0: UDP 14550</td>
                                <td class="font-mono text-xs">mavlink start -x -u 14550 -r 4000000 -f -t 172.30.112.1
                                </td>
                            </tr>
                            <tr>
                                <td class="text-slate-500">2</td>
                                <td class="text-red-400 font-mono text-xs">Bridge ç„¡å°åŒ…</td>
                                <td class="font-mono text-xs">Bridge æ—¥èªŒ</td>
                                <td class="text-emerald-400 text-xs">ğŸ”¥ ARM/TAKEOFF é¡¯ç¤º</td>
                                <td class="text-xs">ç¢ºèª fake_rpi5.py â†’ 127.0.0.1:14540</td>
                            </tr>
                            <tr>
                                <td class="text-slate-500">3</td>
                                <td class="text-red-400 font-mono text-xs">WSL æœªæ”¶åˆ°å°åŒ…</td>
                                <td class="font-mono text-xs">sudo tcpdump udp port 14580</td>
                                <td class="text-emerald-400 text-xs">172.30.112.1 â†’ 172.30.119.112</td>
                                <td class="text-xs">Bridge WSL_PORT=14580, ç¢ºèª WSL IP</td>
                            </tr>
                            <tr class="bg-emerald-500/5">
                                <td class="text-slate-500">4</td>
                                <td class="text-red-400 font-mono text-xs">PX4 æœªæ”¶åˆ°æŒ‡ä»¤</td>
                                <td class="font-mono text-xs">mavlink status</td>
                                <td class="text-emerald-400 text-xs">rx: 16.9 B/s<br />msgid: 76 (COMMAND_LONG)</td>
                                <td class="font-mono text-xs">mavlink start -u 14580 -m onboard</td>
                            </tr>
                            <tr>
                                <td class="text-slate-500">5</td>
                                <td class="text-red-400 font-mono text-xs">QGC ç„¡æ³•é€£ç·š</td>
                                <td class="font-mono text-xs">QGC Comm Links</td>
                                <td class="text-emerald-400 text-xs">Connected ç‹€æ…‹</td>
                                <td class="text-xs">ç¢ºèª -t æŒ‡å‘ Windows IP + é˜²ç«ç‰†</td>
                            </tr>
                            <tr>
                                <td class="text-slate-500">6</td>
                                <td class="text-red-400 font-mono text-xs">ARM å¾Œè‡ªå‹•ä¸Šé–</td>
                                <td class="font-mono text-xs">è§€å¯Ÿ PX4 shell</td>
                                <td class="text-emerald-400 text-xs">ä¿æŒ ARMED ç‹€æ…‹</td>
                                <td class="text-xs">ç¢ºä¿å¿ƒè·³åŒ…æŒçºŒç™¼é€ (heartbeat_loop)</td>
                            </tr>
                            <tr>
                                <td class="text-slate-500">7</td>
                                <td class="text-red-400 font-mono text-xs">Gazebo ç„¡ç•«é¢</td>
                                <td class="font-mono text-xs">pgrep -f "gz sim"</td>
                                <td class="text-emerald-400 text-xs">é€²ç¨‹å­˜åœ¨</td>
                                <td class="text-xs">export DISPLAY=:0 æˆ–ä½¿ç”¨ WSLg</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Quick Network Check -->
                <div class="mt-6">
                    <h3 class="font-bold text-slate-300 mb-3">ğŸŒ ç¶²è·¯é€£é€šæ€§å¿«é€Ÿæª¢æŸ¥</h3>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font text-xs"><span class="text-sky-400"># ===== åœ¨ WSL2 ä¸­åŸ·è¡Œ =====</span>
ip addr show eth0 | grep inet          <span class="text-slate-500"># æŸ¥çœ‹ WSL2 IP</span>
cat /etc/resolv.conf | grep nameserver  <span class="text-slate-500"># æŸ¥çœ‹ Windows IP</span>
ping -c 3 172.30.112.1                  <span class="text-slate-500"># æ¸¬è©¦åˆ° Windows é€£é€š</span>
sudo tcpdump -i eth0 udp port 14580 -c 5  <span class="text-slate-500"># ç›£è½å°åŒ…</span>

<span class="text-amber-400"># ===== åœ¨ Windows ä¸­åŸ·è¡Œ =====</span>
wsl hostname -I                         <span class="text-slate-500"># æŸ¥çœ‹ WSL2 IP</span>
ipconfig | findstr "172.30"             <span class="text-slate-500"># æŸ¥çœ‹ vEthernet (WSL) IP</span>
ping 172.30.119.112                     <span class="text-slate-500"># æ¸¬è©¦åˆ° WSL2 é€£é€š</span></pre>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 6: å®Œæ•´åŸå§‹ç¢¼ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec6">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="file-code-2" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">6. å®Œæ•´åŸå§‹ç¢¼</h2>
                        <p class="text-sm text-slate-500">Full Source Code â€” å·²é©—è­‰å¯ç›´æ¥åŸ·è¡Œ</p>
                    </div>
                </div>

                <!-- fake_rpi5.py -->
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-3">
                        <h3 class="text-lg font-bold text-purple-400">ğŸ¤– fake_rpi5.py</h3>
                        <span class="badge badge-success">å·²é©—è­‰</span>
                        <span class="text-xs text-slate-500">æ¨¡æ“¬ RPI5 æ‰‹å‹¢æŒ‡ä»¤ç™¼é€å™¨ | 3.04 KB</span>
                    </div>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font text-xs"
                            style="max-height: 600px;"><span class="text-sky-400">from</span> pymavlink <span class="text-sky-400">import</span> mavutil
<span class="text-sky-400">import</span> time
<span class="text-sky-400">import</span> threading
<span class="text-sky-400">import</span> math

<span class="text-slate-500"># ç›®æ¨™ï¼šWindows Bridge ç›£è½çš„ port</span>
TARGET_IP = <span class="text-amber-400">"127.0.0.1"</span>
TARGET_PORT = <span class="text-purple-400">14540</span>

<span class="text-sky-400">print</span>(<span class="text-amber-400">f"ğŸ¤– å‡ RPI5 å•Ÿå‹•ï¼(ä½¿ç”¨ pymavlink) ç™¼é€è‡³ {TARGET_IP}:{TARGET_PORT}"</span>)
<span class="text-sky-400">print</span>(<span class="text-amber-400">"æŒ‡ä»¤: [a] ARM  [t] TAKEOFF  [l] LAND  [auto] è‡ªå‹•èµ·é£›  [q] é›¢é–‹\n"</span>)

<span class="text-slate-500"># å»ºç«‹ UDP é€£ç·š (udpout ä»£è¡¨æˆ‘å€‘æ˜¯ä¸»å‹•ç™¼é€ç«¯)</span>
master = mavutil.mavlink_connection(
    <span class="text-amber-400">f'udpout:{TARGET_IP}:{TARGET_PORT}'</span>, 
    source_system=<span class="text-purple-400">255</span>,       <span class="text-slate-500"># å¤–éƒ¨æ§åˆ¶å™¨èº«ä»½</span>
    source_component=<span class="text-purple-400">190</span>    <span class="text-slate-500"># çµ„ä»¶ ID</span>
)

<span class="text-sky-400">def</span> <span class="text-emerald-400">heartbeat_loop</span>():
    <span class="text-slate-500">"""èƒŒæ™¯æŒçºŒé€å¿ƒè·³ (æ¥µåº¦é‡è¦ï¼Œå¦å‰‡ PX4 æœƒæ‹’çµ•æŒ‡ä»¤æˆ–è‡ªå‹•ä¸Šé–)"""</span>
    <span class="text-sky-400">while</span> <span class="text-purple-400">True</span>:
        master.mav.heartbeat_send(
            mavutil.mavlink.MAV_TYPE_ONBOARD_CONTROLLER,
            mavutil.mavlink.MAV_AUTOPILOT_INVALID,
            <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>
        )
        time.sleep(<span class="text-purple-400">1</span>)

<span class="text-slate-500"># å•Ÿå‹•èƒŒæ™¯å¿ƒè·³åŸ·è¡Œç·’</span>
threading.Thread(target=heartbeat_loop, daemon=<span class="text-purple-400">True</span>).start()

<span class="text-sky-400">while</span> <span class="text-purple-400">True</span>:
    cmd = <span class="text-sky-400">input</span>(<span class="text-amber-400">">>> "</span>).strip().lower()
    
    <span class="text-sky-400">if</span> cmd == <span class="text-amber-400">'q'</span>:
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"é—œé–‰ç¨‹å¼..."</span>)
        <span class="text-sky-400">break</span>
        
    <span class="text-sky-400">elif</span> cmd == <span class="text-amber-400">'a'</span>:
        <span class="text-slate-500"># MAV_CMD_COMPONENT_ARM_DISARM (400), Param1 = 1 (ARM)</span>
        master.mav.command_long_send(
            <span class="text-purple-400">1</span>, <span class="text-purple-400">1</span>,  <span class="text-slate-500"># Target System, Target Component</span>
            mavutil.mavlink.MAV_CMD_COMPONENT_ARM_DISARM,
            <span class="text-purple-400">0</span>, <span class="text-red-400">1</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>
        )
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"âœŒï¸  ç™¼é€å–®ç¨ ARM æŒ‡ä»¤ (æ³¨æ„ï¼šè¶…æ™‚æœªå‹•ä½œæœƒè‡ªå‹•ä¸Šé–)"</span>)
        
    <span class="text-sky-400">elif</span> cmd == <span class="text-amber-400">'t'</span>:
        <span class="text-slate-500"># MAV_CMD_NAV_TAKEOFF (22)</span>
        <span class="text-slate-500"># é—œéµï¼šParam 4(Yaw), 5(Lat), 6(Lon) è¨­ç‚º math.nan = ç¶­æŒç•¶å‰åº§æ¨™</span>
        master.mav.command_long_send(
            <span class="text-purple-400">1</span>, <span class="text-purple-400">1</span>,
            mavutil.mavlink.MAV_CMD_NAV_TAKEOFF,
            <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-emerald-400">5.0</span> 
        )
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"âœ‹  ç™¼é€å–®ç¨ TAKEOFF æŒ‡ä»¤ (åŸåœ°èµ·é£›ï¼Œé«˜åº¦ 5m)"</span>)
        
    <span class="text-sky-400">elif</span> cmd == <span class="text-amber-400">'l'</span>:
        <span class="text-slate-500"># MAV_CMD_NAV_LAND (21) â€” åŒæ¨£ç”¨ math.nan åŸåœ°é™è½</span>
        master.mav.command_long_send(
            <span class="text-purple-400">1</span>, <span class="text-purple-400">1</span>,
            mavutil.mavlink.MAV_CMD_NAV_LAND,
            <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-purple-400">0</span>
        )
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"âœŠ  ç™¼é€ LAND æŒ‡ä»¤ (åŸåœ°é™è½)"</span>)
        
    <span class="text-sky-400">elif</span> cmd == <span class="text-amber-400">'auto'</span>:
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"ğŸš€ [è‡ªå‹•æµç¨‹] 1. ç™¼é€ ARM æŒ‡ä»¤..."</span>)
        master.mav.command_long_send(
            <span class="text-purple-400">1</span>, <span class="text-purple-400">1</span>, 
            mavutil.mavlink.MAV_CMD_COMPONENT_ARM_DISARM, 
            <span class="text-purple-400">0</span>, <span class="text-red-400">1</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>
        )
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"â³ èºæ—‹æ§³é ç†±ä¸­ (ç­‰å¾… 2 ç§’)..."</span>)
        time.sleep(<span class="text-purple-400">2</span>) 
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"ğŸ›« [è‡ªå‹•æµç¨‹] 2. ç™¼é€ TAKEOFF æŒ‡ä»¤ (åŸåœ°èµ·é£›ï¼Œç›®æ¨™é«˜åº¦ 5m)..."</span>)
        master.mav.command_long_send(
            <span class="text-purple-400">1</span>, <span class="text-purple-400">1</span>, 
            mavutil.mavlink.MAV_CMD_NAV_TAKEOFF, 
            <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-red-400">math.nan</span>, <span class="text-emerald-400">5.0</span> 
        )
    <span class="text-sky-400">else</span>:
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"æœªçŸ¥æŒ‡ä»¤ï¼Œè«‹è¼¸å…¥ a / t / l / auto / q"</span>)</pre>
                    </div>

                    <!-- Key Design Notes -->
                    <div class="grid md:grid-cols-2 gap-3 mt-4">
                        <div class="p-3 rounded-lg bg-purple-500/10 border border-purple-500/30">
                            <p class="text-xs text-purple-300"><strong>ğŸ’“ å¿ƒè·³åŒ…</strong>ï¼šèƒŒæ™¯åŸ·è¡Œç·’æ¯ç§’ç™¼é€ï¼ŒPX4 å¿…é ˆæ”¶åˆ°å¿ƒè·³æ‰æ¥å—æŒ‡ä»¤ï¼Œå¦å‰‡è‡ªå‹•ä¸Šé–
                            </p>
                        </div>
                        <div class="p-3 rounded-lg bg-amber-500/10 border border-amber-500/30">
                            <p class="text-xs text-amber-300"><strong>ğŸ”¢ math.nan</strong>ï¼šTAKEOFF/LAND çš„ Yaw/Lat/Lon è¨­ç‚º
                                NaN = ç¶­æŒç•¶å‰åº§æ¨™ï¼ˆåŸåœ°æ“ä½œï¼‰</p>
                        </div>
                        <div class="p-3 rounded-lg bg-sky-500/10 border border-sky-500/30">
                            <p class="text-xs text-sky-300"><strong>ğŸ†”
                                    source_system=255</strong>ï¼šæ¨¡æ“¬å¤–éƒ¨æ§åˆ¶å™¨èº«ä»½ï¼Œcomponent=190</p>
                        </div>
                        <div class="p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30">
                            <p class="text-xs text-emerald-300"><strong>ğŸš€ auto æ¨¡å¼</strong>ï¼šARM â†’ ç­‰ 2 ç§’é ç†± â†’ TAKEOFFï¼Œé¿å…
                                ARM è¶…æ™‚è‡ªå‹•ä¸Šé–</p>
                        </div>
                    </div>
                </div>

                <hr class="border-slate-700 my-8">

                <!-- windows_udp_bridge.py -->
                <div>
                    <div class="flex items-center gap-3 mb-3">
                        <h3 class="text-lg font-bold text-amber-400">ğŸŒ‰ windows_udp_bridge.py</h3>
                        <span class="badge badge-success">å·²é©—è­‰</span>
                        <span class="text-xs text-slate-500">MAVLink æ™ºæ…§æ©‹æ¥å™¨ + å³æ™‚å°åŒ…è§£ç¢¼ | 4.69 KB</span>
                    </div>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font text-xs" style="max-height: 600px;"><span class="text-sky-400">import</span> socket
<span class="text-sky-400">import</span> threading
<span class="text-sky-400">import</span> time
<span class="text-sky-400">import</span> subprocess
<span class="text-sky-400">import</span> re
<span class="text-sky-400">import</span> struct  <span class="text-slate-500"># ç”¨æ–¼è§£ç¢¼äºŒé€²åˆ¶æ•¸æ“š</span>

<span class="text-slate-500"># === è¨­å®š ===</span>
EXTERNAL_PORT = <span class="text-purple-400">14540</span>   <span class="text-slate-500"># ç›£è½ RPI5 ä¾†çš„å°åŒ…</span>
WSL_PORT = <span class="text-purple-400">14580</span>         <span class="text-slate-500"># è½‰ç™¼åˆ° PX4 çš„ç«¯å£</span>

<span class="text-slate-500"># === MAVLink æŒ‡ä»¤å°ç…§è¡¨ ===</span>
MAV_CMD = {
    <span class="text-purple-400">22</span>:  <span class="text-amber-400">"ğŸš èµ·é£› (TAKEOFF)"</span>,
    <span class="text-purple-400">21</span>:  <span class="text-amber-400">"ğŸ›¬ é™è½ (LAND)"</span>,
    <span class="text-purple-400">400</span>: <span class="text-amber-400">"ğŸ”“ è§£é–/ä¸Šé– (ARM/DISARM)"</span>,
    <span class="text-purple-400">511</span>: <span class="text-amber-400">"â„¹ï¸ è¨­å®šæ¨¡å¼ (SET_MODE)"</span>
}

<span class="text-sky-400">def</span> <span class="text-emerald-400">get_wsl_ip</span>():
    <span class="text-slate-500">"""è‡ªå‹•åµæ¸¬ WSL çš„ IP åœ°å€"""</span>
    <span class="text-sky-400">try</span>:
        <span class="text-slate-500"># æ–¹æ³• 1: wsl hostname -I (æœ€æº–ç¢º)</span>
        wsl_ip = subprocess.check_output(
            [<span class="text-amber-400">"wsl"</span>, <span class="text-amber-400">"hostname"</span>, <span class="text-amber-400">"-I"</span>]
        ).decode().strip().split(<span class="text-amber-400">' '</span>)[<span class="text-purple-400">0</span>]
        <span class="text-sky-400">return</span> wsl_ip
    <span class="text-sky-400">except</span>:
        <span class="text-sky-400">try</span>:
            <span class="text-slate-500"># æ–¹æ³• 2: ipconfig è§£æ (å‚™ç”¨)</span>
            result = subprocess.check_output(
                <span class="text-amber-400">"ipconfig"</span>, shell=<span class="text-purple-400">True</span>
            ).decode(<span class="text-amber-400">'big5'</span>, errors=<span class="text-amber-400">'ignore'</span>)
            ips = re.findall(
                <span class="text-amber-400">r"IPv4 ä½å€[ .]+: (172\.[0-9]+\.[0-9]+\.[0-9]+)"</span>, result
            )
            <span class="text-sky-400">return</span> ips[<span class="text-purple-400">0</span>] <span class="text-sky-400">if</span> ips <span class="text-sky-400">else</span> <span class="text-sky-400">input</span>(<span class="text-amber-400">"è«‹æ‰‹å‹•è¼¸å…¥ WSL IP: "</span>)
        <span class="text-sky-400">except</span>:
            <span class="text-sky-400">return</span> <span class="text-sky-400">input</span>(<span class="text-amber-400">"è«‹æ‰‹å‹•è¼¸å…¥ WSL IP: "</span>)

<span class="text-sky-400">def</span> <span class="text-emerald-400">parse_mavlink_packet</span>(data):
    <span class="text-slate-500">"""è§£æ MAVLink v1 å°åŒ…ä¸¦å›å‚³å¯è®€è¨Šæ¯"""</span>
    <span class="text-sky-400">try</span>:
        <span class="text-sky-400">if</span> <span class="text-sky-400">len</span>(data) &lt; <span class="text-purple-400">6</span>: <span class="text-sky-400">return</span> <span class="text-purple-400">None</span>
        magic = data[<span class="text-purple-400">0</span>]     <span class="text-slate-500"># 0xFE = MAVLink v1</span>
        msg_id = data[<span class="text-purple-400">5</span>]    <span class="text-slate-500"># Message ID</span>

        <span class="text-slate-500"># 1. å¿ƒè·³åŒ… (Msg ID 0)</span>
        <span class="text-sky-400">if</span> msg_id == <span class="text-purple-400">0</span>:
            <span class="text-sky-400">return</span> <span class="text-amber-400">"ğŸ’“ å¿ƒè·³åŒ… (HEARTBEAT)"</span>

        <span class="text-slate-500"># 2. COMMAND_LONG (Msg ID 76) â€” æœ€é‡è¦çš„æŒ‡ä»¤åŒ…</span>
        <span class="text-sky-400">elif</span> msg_id == <span class="text-purple-400">76</span>:
            <span class="text-slate-500"># Payload: param1~7(4BÃ—7) | command(2B) | target_sys | target_comp | confirm</span>
            <span class="text-slate-500"># Command ID çµ•å°ä½ç½®: 6 + 28 = 34</span>
            <span class="text-sky-400">if</span> <span class="text-sky-400">len</span>(data) &gt;= <span class="text-purple-400">36</span>:
                cmd_id = struct.unpack(<span class="text-amber-400">'&lt;H'</span>, data[<span class="text-purple-400">34</span>:<span class="text-purple-400">36</span>])[<span class="text-purple-400">0</span>]
                cmd_name = MAV_CMD.get(cmd_id, <span class="text-amber-400">f"æœªçŸ¥æŒ‡ä»¤ ({cmd_id})"</span>)
                
                <span class="text-slate-500"># ARM/DISARM é€²ä¸€æ­¥çœ‹ param1</span>
                <span class="text-sky-400">if</span> cmd_id == <span class="text-purple-400">400</span>:
                    param1 = struct.unpack(<span class="text-amber-400">'&lt;f'</span>, data[<span class="text-purple-400">6</span>:<span class="text-purple-400">10</span>])[<span class="text-purple-400">0</span>]
                    action = <span class="text-amber-400">"è§£é–"</span> <span class="text-sky-400">if</span> param1 == <span class="text-purple-400">1.0</span> <span class="text-sky-400">else</span> <span class="text-amber-400">"ä¸Šé–"</span>
                    <span class="text-sky-400">return</span> <span class="text-amber-400">f"ğŸ”“ {action} (ARM/DISARM)"</span>
                <span class="text-sky-400">return</span> <span class="text-amber-400">f"âš¡ {cmd_name}"</span>

        <span class="text-sky-400">return</span> <span class="text-amber-400">f"ğŸ“¦ å…¶ä»–å°åŒ… (ID: {msg_id})"</span>
    <span class="text-sky-400">except</span> Exception <span class="text-sky-400">as</span> e:
        <span class="text-sky-400">return</span> <span class="text-amber-400">f"è§£æéŒ¯èª¤: {e}"</span>

<span class="text-sky-400">def</span> <span class="text-emerald-400">bridge</span>():
    wsl_ip = get_wsl_ip()
    <span class="text-sky-400">print</span>(<span class="text-amber-400">"="</span>*<span class="text-purple-400">50</span>)
    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"ğŸš MAVLink æ™ºæ…§æ©‹æ¥å™¨ (Smart Bridge)"</span>)
    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"å¤–éƒ¨ä¾†æº (RPi5): 0.0.0.0:{EXTERNAL_PORT}"</span>)
    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"å…§éƒ¨ç›®æ¨™ (WSL) : {wsl_ip}:{WSL_PORT}"</span>)
    <span class="text-sky-400">print</span>(<span class="text-amber-400">"="</span>*<span class="text-purple-400">50</span>)

    sock_ext = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    sock_ext.bind((<span class="text-amber-400">'0.0.0.0'</span>, EXTERNAL_PORT))
    sock_int = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    rpi_client_addr = <span class="text-purple-400">None</span>

    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"âœ… æ­£åœ¨ç›£è½ä¸¦å³æ™‚è§£ç¢¼æŒ‡ä»¤..."</span>)
    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"âš ï¸  è«‹ç¢ºä¿ Windows é˜²ç«ç‰†å…è¨± Python é€šéï¼"</span>)

    <span class="text-sky-400">def</span> <span class="text-emerald-400">forward_to_wsl</span>():
        <span class="text-sky-400">nonlocal</span> rpi_client_addr
        <span class="text-sky-400">while</span> <span class="text-purple-400">True</span>:
            <span class="text-sky-400">try</span>:
                data, addr = sock_ext.recvfrom(<span class="text-purple-400">4096</span>)
                <span class="text-sky-400">if</span> <span class="text-sky-400">len</span>(data) &gt; <span class="text-purple-400">0</span>:
                    msg = parse_mavlink_packet(data)
                    <span class="text-slate-500"># éæ¿¾å¿ƒè·³åŒ…ï¼Œåªé¡¯ç¤ºå‹•ä½œæŒ‡ä»¤</span>
                    <span class="text-sky-400">if</span> msg <span class="text-sky-400">and</span> <span class="text-amber-400">"å¿ƒè·³"</span> <span class="text-sky-400">not in</span> msg:
                        <span class="text-sky-400">print</span>(<span class="text-amber-400">f"[{time.strftime('%H:%M:%S')}] ğŸ”¥ {msg} | ä¾†è‡ª: {addr[0]}"</span>)
                <span class="text-sky-400">if</span> rpi_client_addr != addr:
                    <span class="text-sky-400">print</span>(<span class="text-amber-400">f"\n[é€£ç·š] RPi5 å·²é€£æ¥: {addr}"</span>)
                    rpi_client_addr = addr
                sock_int.sendto(data, (wsl_ip, WSL_PORT))
            <span class="text-sky-400">except</span> Exception <span class="text-sky-400">as</span> e:
                <span class="text-sky-400">print</span>(<span class="text-amber-400">f"è½‰ç™¼éŒ¯èª¤: {e}"</span>)

    t1 = threading.Thread(target=forward_to_wsl)
    t1.daemon = <span class="text-purple-400">True</span>
    t1.start()

    <span class="text-sky-400">try</span>:
        <span class="text-sky-400">while</span> <span class="text-purple-400">True</span>:
            time.sleep(<span class="text-purple-400">1</span>)
    <span class="text-sky-400">except</span> KeyboardInterrupt:
        <span class="text-sky-400">print</span>(<span class="text-amber-400">"\næ©‹æ¥å™¨å·²é—œé–‰"</span>)

<span class="text-sky-400">if</span> __name__ == <span class="text-amber-400">"__main__"</span>:
    bridge()</pre>
                    </div>

                    <!-- Bridge Design Notes -->
                    <div class="grid md:grid-cols-3 gap-3 mt-4">
                        <div class="p-3 rounded-lg bg-amber-500/10 border border-amber-500/30">
                            <p class="text-xs text-amber-300"><strong>ğŸ” è‡ªå‹•åµæ¸¬ WSL IP</strong>ï¼šå„ªå…ˆ
                                <code>wsl hostname -I</code>ï¼Œå‚™ç”¨ <code>ipconfig</code> æ­£å‰‡è§£æ 172.x.x.x</p>
                        </div>
                        <div class="p-3 rounded-lg bg-sky-500/10 border border-sky-500/30">
                            <p class="text-xs text-sky-300"><strong>ğŸ“¦ å°åŒ…è§£æ</strong>ï¼šdata[5]=MsgID, data[34:36]=CMD_ID
                                (little-endian uint16)</p>
                        </div>
                        <div class="p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30">
                            <p class="text-xs text-emerald-300"><strong>ğŸ§¹ å¿ƒè·³éæ¿¾</strong>ï¼šåªé¡¯ç¤ºå‹•ä½œæŒ‡ä»¤
                                (ARM/TAKEOFF/LAND)ï¼Œé¿å…æ¯ç§’å¿ƒè·³æ´—ç‰ˆ</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 7: æ°¸ä¹…ä¿®å¾© ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec7">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="wrench" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">7. æ°¸ä¹…ä¿®å¾©å•Ÿå‹•è…³æœ¬</h2>
                        <p class="text-sm text-slate-500">Persistent Fix â€” é‡å•Ÿå¾Œè‡ªå‹•ç”Ÿæ•ˆ</p>
                    </div>
                </div>

                <div class="highlight-box mb-6">
                    <p class="text-sm text-slate-300">
                        æ¯æ¬¡ <code class="text-amber-400">make px4_sitl gz_x500</code> å¾Œï¼ŒPX4 è®€å–é è¨­ MAVLink å•Ÿå‹•è…³æœ¬ã€‚
                        ä»¥ä¸‹ä¿®æ”¹è®“ MAVLink é€šé“<strong class="text-emerald-400">è‡ªå‹•æ­£ç¢ºé…ç½®</strong>ï¼Œä¸éœ€æ¯æ¬¡æ‰‹å‹•è¼¸å…¥ã€‚
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <!-- Method 1 -->
                    <div class="glass-panel p-6">
                        <h4 class="font-bold text-amber-400 mb-3 flex items-center gap-2">
                            <i data-lucide="terminal" class="w-5 h-5"></i>æ–¹æ³•ä¸€ï¼šsed ä¸€éµä¿®å¾©
                        </h4>
                        <div class="relative">
                            <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                            <pre class="code-font text-xs"><span class="text-slate-500"># WSL2 åŸ·è¡Œï¼ˆé‡å•Ÿå¾Œè‡ªå‹•ç”Ÿæ•ˆï¼‰</span>

<span class="text-slate-500"># ä¿®å¾© 1ï¼šç§»é™¤ -b åƒæ•¸ï¼ˆä¸²å£æ¨¡å¼æ®˜ç•™ï¼‰</span>
<span class="text-emerald-400">sed -i '/mavlink start/s/-b//' \
  ~/PX4-Autopilot/build/px4_sitl_default/etc/init.d-posix/px4-rc.mavlink</span>

<span class="text-slate-500"># ä¿®å¾© 2ï¼šç‚º 14550 åŠ ä¸Š Windows ç›®æ¨™ IP</span>
<span class="text-emerald-400">sed -i '/mavlink start.*14550/s/$/ -t 172.30.112.1/' \
  ~/PX4-Autopilot/build/px4_sitl_default/etc/init.d-posix/px4-rc.mavlink</span></pre>
                        </div>
                    </div>

                    <!-- Method 2 -->
                    <div class="glass-panel p-6">
                        <h4 class="font-bold text-purple-400 mb-3 flex items-center gap-2">
                            <i data-lucide="file-edit" class="w-5 h-5"></i>æ–¹æ³•äºŒï¼šæ‰‹å‹•ç·¨è¼¯
                        </h4>
                        <div class="relative">
                            <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                            <pre class="code-font text-xs"><span class="text-slate-500"># ç·¨è¼¯ MAVLink å•Ÿå‹•è…³æœ¬</span>
<span class="text-emerald-400">nano ~/PX4-Autopilot/build/px4_sitl_default/\
  etc/init.d-posix/px4-rc.mavlink</span>

<span class="text-slate-500"># ç¢ºä¿åŒ…å«ä»¥ä¸‹å…©è¡Œï¼š</span>
<span class="text-amber-400">mavlink start -x -u 14550 -r 4000000 -f \
  -t 172.30.112.1</span>
<span class="text-amber-400">mavlink start -x -u 14580 -r 4000000 -f</span></pre>
                        </div>
                    </div>
                </div>

                <!-- Method 3: Auto Script -->
                <div class="mt-6">
                    <h4 class="font-bold text-emerald-400 mb-3 flex items-center gap-2">
                        <i data-lucide="rocket" class="w-5 h-5"></i>æ–¹æ³•ä¸‰ï¼šä¸€éµå•Ÿå‹•è…³æœ¬ï¼ˆè‡ªå‹•åµæ¸¬ IPï¼‰
                    </h4>
                    <div class="relative">
                        <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                        <pre class="code-font text-xs"><span class="text-slate-500">#!/bin/bash</span>
<span class="text-slate-500"># ~/start_px4_sitl.sh â€” ä¸€éµå•Ÿå‹• PX4 SITL + è‡ªå‹•é…ç½® MAVLink</span>

<span class="text-sky-400">cat</span> &gt; ~/start_px4_sitl.sh &lt;&lt; <span class="text-amber-400">'EOF'</span>
<span class="text-emerald-400">#!/bin/bash
echo "ğŸš€ å•Ÿå‹• PX4 SITL + MAVLink é€šé“..."

# è‡ªå‹•å–å¾— Windows ä¸»æ©Ÿ IP
WIN_IP=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}')
echo "ğŸ“¡ Windows IP: $WIN_IP"
echo "ğŸ“¡ WSL2 IP: $(hostname -I | awk '{print $1}')"

cd ~/PX4-Autopilot

# å•Ÿå‹• SITLï¼ˆèƒŒæ™¯ï¼‰
make px4_sitl gz_x500 &
PX4_PID=$!

# ç­‰å¾… PX4 å•Ÿå‹•å®Œæˆ
echo "â³ ç­‰å¾… PX4 å•Ÿå‹• (15 ç§’)..."
sleep 15

echo "âœ… PX4 SITL å•Ÿå‹•å®Œæˆï¼"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "ğŸ“± QGC ç›®æ¨™: $WIN_IP:14550"
echo "ğŸŒ‰ Bridge ç›®æ¨™: 14580"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

wait $PX4_PID</span>
EOF

<span class="text-emerald-400">chmod +x ~/start_px4_sitl.sh</span></pre>
                    </div>
                </div>
            </section>

            <!-- ==================== SEC 8: ç¶²è·¯æ‹“æ’² ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec8">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="globe" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">8. ç¶²è·¯æ‹“æ’²èˆ‡ IP å°ç…§</h2>
                        <p class="text-sm text-slate-500">Network Topology & IP Reference</p>
                    </div>
                </div>

                <!-- ASCII Topology -->
                <div class="relative mb-6">
                    <pre class="code-font text-xs"><span class="text-sky-400">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="text-sky-400">â”‚</span>                    <span class="text-amber-400">Windows ä¸»æ©Ÿ</span>                            <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>                                                             <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ <span class="text-emerald-400">ğŸ“± QGC</span>            â”‚       â”‚ <span class="text-amber-400">ğŸŒ‰ windows_udp_bridge</span>  â”‚     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ (ç›£è½ UDP 14550) â”‚       â”‚ (ç›£è½ UDP 14540)       â”‚     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â””â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>           â”‚                              â”‚                   <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  <span class="text-purple-400">vEthernet (WSL): 172.30.112.1</span>          â”‚ UDP 14580         <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>           â”‚       <span class="text-slate-500">WSL2 è™›æ“¬ç¶²è·¯</span>          â”‚                   <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  <span class="text-emerald-400">eth0: 172.30.119.112</span>                   â”‚                   <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>           â”‚                              â–¼                   <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ <span class="text-blue-400">ğŸ›©ï¸ PX4 SITL</span>       â”‚       â”‚ <span class="text-blue-400">ğŸ›©ï¸ PX4 MAVLink</span>         â”‚     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ (mavlink #0)     â”‚       â”‚ (mavlink #1)           â”‚     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ UDP 14550 OUT    â”‚       â”‚ UDP 14580 IN           â”‚     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>           â”‚                                                  <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ <span class="text-purple-400">ğŸ® Gazebo</span>         â”‚                                       <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â”‚ (gz_bridge)      â”‚                                       <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â”‚</span>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       <span class="text-sky-400">â”‚</span>
<span class="text-sky-400">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
         â–²
         â”‚ UDP 14540
<span class="text-red-400">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="text-red-400">â”‚  ğŸ¤– RPI5 / fake_rpi5.py  â”‚</span>
<span class="text-red-400">â”‚  MediaPipe æ‰‹å‹¢è¾¨è­˜       â”‚</span>
<span class="text-red-400">â”‚  pymavlink ç™¼é€æŒ‡ä»¤       â”‚</span>
<span class="text-red-400">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></pre>
                </div>

                <!-- IP Quick Reference -->
                <div class="overflow-x-auto rounded-lg border border-slate-700">
                    <table>
                        <thead>
                            <tr>
                                <th>éœ€è¦çš„ IP</th>
                                <th>æŸ¥è©¢æ–¹å¼</th>
                                <th>ç¯„ä¾‹å€¼</th>
                                <th>æ³¨æ„äº‹é …</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="font-bold text-amber-400">Windows ä¸»æ©Ÿ IP</td>
                                <td class="font-mono text-xs">WSL2: <code>cat /etc/resolv.conf | grep nameserver</code>
                                </td>
                                <td class="font-mono text-emerald-400">172.30.112.1</td>
                                <td class="text-xs text-slate-500">ç”¨æ–¼ mavlink -t åƒæ•¸</td>
                            </tr>
                            <tr>
                                <td class="font-bold text-emerald-400">WSL2 IP</td>
                                <td class="font-mono text-xs">Windows: <code>wsl hostname -I</code></td>
                                <td class="font-mono text-emerald-400">172.30.119.112</td>
                                <td class="text-xs text-red-400">âš ï¸ æ¯æ¬¡é‡å•Ÿå¯èƒ½æ”¹è®Šï¼</td>
                            </tr>
                            <tr>
                                <td class="font-bold text-red-400">RPI5 IP</td>
                                <td class="font-mono text-xs">RPI5: <code>hostname -I</code></td>
                                <td class="font-mono text-emerald-400">192.168.1.xxx</td>
                                <td class="text-xs text-slate-500">å€åŸŸç¶²è·¯ IP</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Auto IP Detection -->
                <div class="mt-6 highlight-box">
                    <h4 class="font-bold text-amber-400 mb-2">ğŸ’¡ Bridge è‡ªå‹•åµæ¸¬ WSL2 IPï¼ˆè§£æ±ºé‡å•Ÿ IP è®Šå‹•å•é¡Œï¼‰</h4>
                    <pre class="code-font text-xs mt-2"><span class="text-slate-500"># windows_udp_bridge.py å·²å…§å»ºè‡ªå‹•åµæ¸¬ï¼š</span>
<span class="text-sky-400">def</span> <span class="text-emerald-400">get_wsl_ip</span>():
    wsl_ip = subprocess.check_output([<span class="text-amber-400">"wsl"</span>, <span class="text-amber-400">"hostname"</span>, <span class="text-amber-400">"-I"</span>]).decode().strip().split(<span class="text-amber-400">' '</span>)[<span class="text-purple-400">0</span>]
    <span class="text-slate-500"># å‚™ç”¨: ipconfig æ­£å‰‡è§£æ 172.x.x.x</span>
    <span class="text-sky-400">return</span> wsl_ip</pre>
                </div>
            </section>

            <!-- ==================== SEC 9: FAQ ==================== -->
            <section class="glass-panel p-8 mb-8" id="sec9">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="help-circle" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">9. FAQ å¸¸è¦‹å•é¡Œ</h2>
                        <p class="text-sm text-slate-500">Frequently Asked Questions</p>
                    </div>
                </div>

                <div class="space-y-6">
                    <!-- FAQ 1 -->
                    <details class="group" open>
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q1: WSL2 IP æ¯æ¬¡é‡å•Ÿéƒ½æœƒè®Šæ€éº¼è¾¦ï¼Ÿ</span>
                            <span class="badge badge-success ml-auto">å·²è§£æ±º</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <p class="text-sm text-slate-300 mb-3">Bridge å·²å…§å»ºè‡ªå‹•åµæ¸¬ï¼Œç„¡éœ€æ‰‹å‹•ä¿®æ”¹ã€‚è‹¥éœ€åœ¨å…¶ä»–è…³æœ¬ä¸­ä½¿ç”¨ï¼š</p>
                            <pre class="code-font text-xs"><span class="text-slate-500"># Python è‡ªå‹•åµæ¸¬</span>
<span class="text-sky-400">import</span> subprocess
wsl_ip = subprocess.check_output([<span class="text-amber-400">"wsl"</span>, <span class="text-amber-400">"hostname"</span>, <span class="text-amber-400">"-I"</span>]).decode().strip().split()[<span class="text-purple-400">0</span>]

<span class="text-slate-500"># Bash è‡ªå‹•åµæ¸¬</span>
WIN_IP=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}')</pre>
                        </div>
                    </details>

                    <!-- FAQ 2 -->
                    <details class="group">
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q2: QGC é€£ä¸ä¸Š PX4ï¼Ÿ</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <p class="text-sm text-slate-300 mb-3">æª¢æŸ¥æ¸…å–®ï¼š</p>
                            <ol class="text-sm text-slate-400 space-y-1 list-decimal list-inside mb-3">
                                <li>PX4 shell: <code class="text-amber-400">mavlink status</code> æœ‰ instance #0 (14550)
                                </li>
                                <li><code class="text-amber-400">-t</code> åƒæ•¸æŒ‡å‘æ­£ç¢ºçš„ Windows IP</li>
                                <li>Windows é˜²ç«ç‰†å…è¨± UDP 14550</li>
                                <li>QGC â†’ Application Settings â†’ Comm Links ç¢ºèª UDP 14550</li>
                            </ol>
                            <pre
                                class="code-font text-xs"><span class="text-slate-500"># Windows é˜²ç«ç‰†æ”¾è¡Œï¼ˆç®¡ç†å“¡åŸ·è¡Œï¼‰</span>
<span class="text-emerald-400">netsh advfirewall firewall add rule name="PX4_QGC" dir=in action=allow protocol=UDP localport=14550</span>
<span class="text-emerald-400">netsh advfirewall firewall add rule name="PX4_Bridge" dir=in action=allow protocol=UDP localport=14540</span></pre>
                        </div>
                    </details>

                    <!-- FAQ 3 -->
                    <details class="group">
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q3: ARM å¾Œé¦¬ä¸Šè‡ªå‹•ä¸Šé–ï¼Ÿ</span>
                            <span class="badge badge-danger ml-auto">å¸¸è¦‹å•é¡Œ</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <p class="text-sm text-slate-300 mb-3"><strong>åŸå› ï¼š</strong>PX4 è¦æ±‚å¤–éƒ¨æ§åˆ¶å™¨æŒçºŒç™¼é€å¿ƒè·³åŒ…ï¼Œå¦å‰‡è¦–ç‚ºæ–·ç·šä¸¦è‡ªå‹•ä¸Šé–ã€‚
                            </p>
                            <p class="text-sm text-slate-300 mb-3"><strong>è§£æ±ºï¼š</strong><code
                                    class="text-amber-400">fake_rpi5.py</code> å·²å…§å»ºèƒŒæ™¯å¿ƒè·³åŸ·è¡Œç·’ï¼š</p>
                            <pre class="code-font text-xs"><span class="text-sky-400">def</span> <span class="text-emerald-400">heartbeat_loop</span>():
    <span class="text-slate-500">"""èƒŒæ™¯æŒçºŒé€å¿ƒè·³ â€” æ¥µåº¦é‡è¦ï¼"""</span>
    <span class="text-sky-400">while</span> <span class="text-purple-400">True</span>:
        master.mav.heartbeat_send(
            mavutil.mavlink.MAV_TYPE_ONBOARD_CONTROLLER,
            mavutil.mavlink.MAV_AUTOPILOT_INVALID, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>, <span class="text-purple-400">0</span>)
        time.sleep(<span class="text-purple-400">1</span>)  <span class="text-slate-500"># æ¯ç§’ä¸€æ¬¡</span>

threading.Thread(target=heartbeat_loop, daemon=<span class="text-purple-400">True</span>).start()</pre>
                            <p class="text-sm text-amber-300 mt-2">ğŸ’¡ ä½¿ç”¨ <code>auto</code> æŒ‡ä»¤å¯è‡ªå‹• ARM â†’ ç­‰ 2 ç§’é ç†± â†’
                                TAKEOFFï¼Œé¿å…è¶…æ™‚ã€‚</p>
                        </div>
                    </details>

                    <!-- FAQ 4 -->
                    <details class="group">
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q4: Gazebo æ²’æœ‰ç•«é¢ï¼Ÿ</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <pre class="code-font text-xs"><span class="text-slate-500"># æ–¹æ³• 1ï¼šWSLgï¼ˆWindows 11 å…§å»ºï¼Œé€šå¸¸è‡ªå‹•é‹ä½œï¼‰</span>
<span class="text-emerald-400">wsl --version</span>  <span class="text-slate-500"># ç¢ºèª WSL ç‰ˆæœ¬æ”¯æ´ WSLg</span>

<span class="text-slate-500"># æ–¹æ³• 2ï¼šVcXsrvï¼ˆWindows å®‰è£ VcXsrv â†’ å•Ÿå‹• XLaunchï¼‰</span>
<span class="text-emerald-400">export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0</span>
<span class="text-emerald-400">export LIBGL_ALWAYS_INDIRECT=0</span></pre>
                        </div>
                    </details>

                    <!-- FAQ 5 -->
                    <details class="group">
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q5: make px4_sitl gz_x500 ç·¨è­¯å¤±æ•—ï¼Ÿ</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <pre class="code-font text-xs"><span class="text-slate-500"># æ¸…é™¤ç·¨è­¯å¿«å–</span>
<span class="text-emerald-400">cd ~/PX4-Autopilot</span>
<span class="text-emerald-400">make clean</span>
<span class="text-emerald-400">make distclean</span>

<span class="text-slate-500"># æ›´æ–°å­æ¨¡çµ„</span>
<span class="text-emerald-400">git submodule update --init --recursive</span>

<span class="text-slate-500"># é‡æ–°ç·¨è­¯</span>
<span class="text-emerald-400">make px4_sitl gz_x500</span></pre>
                        </div>
                    </details>

                    <!-- FAQ 6 -->
                    <details class="group">
                        <summary
                            class="flex items-center gap-3 cursor-pointer p-4 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-all">
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 text-sky-400 transition-transform group-open:rotate-90"></i>
                            <span class="font-bold text-slate-200">Q6: Bridge è½‰ç™¼äº†ä½† PX4 æ²’åæ‡‰ï¼Ÿ</span>
                        </summary>
                        <div class="p-4 mt-2 rounded-lg bg-slate-900/50 border border-slate-700">
                            <pre class="code-font text-xs"><span class="text-slate-500"># 1. ç¢ºèª PX4 æœ‰ç›£è½ 14580</span>
<span class="text-emerald-400">mavlink status</span>
<span class="text-slate-500"># å¦‚æœæ²’æœ‰ instance #1ï¼Œæ‰‹å‹•å•Ÿå‹•ï¼š</span>
<span class="text-amber-400">mavlink start -x -u 14580 -r 4000000 -f</span>

<span class="text-slate-500"># 2. ç”¨ tcpdump ç¢ºèªå°åŒ…åˆ°é” WSL2</span>
<span class="text-emerald-400">sudo tcpdump -i eth0 udp port 14580 -v -c 5</span>

<span class="text-slate-500"># 3. ç¢ºèª Bridge çš„ WSL2_IP æ­£ç¢º</span>
<span class="text-emerald-400">wsl hostname -I</span>  <span class="text-slate-500"># åœ¨ Windows åŸ·è¡Œ</span></pre>
                        </div>
                    </details>
                </div>
            </section>

            <!-- ==================== QUICK REFERENCE CARD ==================== -->
            <section class="glass-panel p-8 mb-8">
                <div class="section-header">
                    <div class="section-icon"><i data-lucide="credit-card" class="w-6 h-6 text-white"></i></div>
                    <div>
                        <h2 class="text-2xl font-bold text-sky-400">ğŸ“Œ å¿«é€Ÿåƒè€ƒå¡ç‰‡</h2>
                        <p class="text-sm text-slate-500">Quick Reference Card â€” åˆ—å°è²¼åœ¨è¢å¹•æ—</p>
                    </div>
                </div>
                <div class="relative">
                    <pre class="code-font text-xs"
                        style="background: linear-gradient(135deg, #0a0e14, #111827); border: 2px solid var(--accent-primary);">
<span class="text-sky-400">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span>
<span class="text-sky-400">â•‘</span>        <span class="text-amber-400 font-bold">PX4 SITL + WSL2 + Bridge å¿«é€Ÿåƒè€ƒå¡ v5.0</span>              <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ å•Ÿå‹•é †åº:</span> PX4 SITL â†’ Bridge â†’ RPI5/Fake                    <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ Step 1 (WSL2):</span>                                             <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     make px4_sitl gz_x500                                       <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     mavlink start -x -u 14550 -r 4000000 -f -t <span class="text-amber-400">WIN_IP</span>           <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     mavlink start -x -u 14580 -r 4000000 -f                     <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ Step 2 (Windows):</span>                                          <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     python windows_udp_bridge.py                                <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ Step 3 (æ¸¬è©¦):</span>                                              <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     python fake_rpi5.py â†’ <span class="text-amber-400">a</span>(ARM) <span class="text-amber-400">t</span>(TAKEOFF) <span class="text-amber-400">auto</span>(è‡ªå‹•èµ·é£›)   <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ é©—è­‰:</span>                                                      <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     PX4:  mavlink status                                        <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     WSL:  sudo tcpdump udp port 14580                           <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     WIN:  wsl hostname -I                                       <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ ç«¯å£:</span> <span class="text-red-400">14540</span>(RPIâ†’Win) <span class="text-amber-400">14580</span>(Winâ†’WSL) <span class="text-blue-400">14550</span>(PX4â†’QGC)     <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>  <span class="text-emerald-400">ğŸ”¹ IP æŸ¥è©¢:</span>                                                   <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     Windows: cat /etc/resolv.conf (from WSL2)                   <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>     WSL2:    wsl hostname -I (from Windows)                     <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•‘</span>                                                                  <span class="text-sky-400">â•‘</span>
<span class="text-sky-400">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></pre>
                </div>
            </section>

            <!-- ==================== FOOTER ==================== -->
            <footer class="mt-16 py-8 text-center border-t border-slate-800">
                <div class="mb-4">
                    <span class="text-2xl">ğŸ›©ï¸</span>
                </div>
                <p class="text-slate-500 text-sm font-medium tracking-wider">
                    PX4 SITL + WSL2 + Bridge å…¨é€šè·¯ç ”ç™¼å¯¶å…¸ v5.0
                </p>
                <p class="text-slate-600 text-xs mt-2">
                    Â© 2026 MarlonWu AIoT Lab | æœ€å¾Œé©—è­‰ï¼š2026-02-20 âœ…
                </p>
                <div class="flex justify-center gap-4 mt-4">
                    <span class="badge badge-success">å…¨é€šå·²é©—è­‰</span>
                    <span class="badge badge-info">fake_rpi5.py âœ…</span>
                    <span class="badge badge-warning">bridge.py âœ…</span>
                </div>
            </footer>
        </div>
    </main>

    <!-- ==================== SCRIPTS ==================== -->
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Universal Copy Button
        function copyCode(btn) {
            const pre = btn.closest('.relative').querySelector('pre');
            const text = pre.innerText;
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'å·²è¤‡è£½ âœ…';
                btn.style.background = '#3fb950';
                btn.style.color = '#000';
                setTimeout(() => {
                    btn.textContent = 'COPY';
                    btn.style.background = '';
                    btn.style.color = '';
                }, 2000);
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                btn.textContent = 'å·²è¤‡è£½ âœ…';
                setTimeout(() => { btn.textContent = 'COPY'; }, 2000);
            });
        }

        // Smooth scroll for TOC links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Animate sections on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>

</html>